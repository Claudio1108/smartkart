  [1m[36m (7.7ms)[0m  [1mCREATE TABLE "markets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar, "group" varchar, "info" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "latitude" float, "longitude" float) [0m
  [1m[35m (39.6ms)[0m  CREATE TABLE "microposts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "vote" integer, "user_id" integer, "market_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (11.2ms)[0m  CREATE  INDEX "index_microposts_on_market_id" ON "microposts" ("market_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_microposts_on_market_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_microposts_on_market_id' AND type='index'
[0m
  [1m[35m (4.7ms)[0m  CREATE  INDEX "index_microposts_on_user_id" ON "microposts" ("user_id")
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "label" varchar, "package" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (10.3ms)[0m  CREATE TABLE "requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shopper_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (8.7ms)[0m  [1mCREATE  INDEX "index_requests_on_product_id" ON "requests" ("product_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_requests_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_requests_on_product_id' AND type='index'

  [1m[36m (10.6ms)[0m  [1mCREATE  INDEX "index_requests_on_shopper_id" ON "requests" ("shopper_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "shoppers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (13.7ms)[0m  [1mCREATE  INDEX "index_shoppers_on_user_id" ON "shoppers" ("user_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "surname" varchar, "email" varchar, "yearofbirth" integer, "address" varchar, "latitude" float, "longitude" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password" varchar, "password_digest" varchar) 
  [1m[36m (12.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721133211')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719155029')[0m
  [1m[35m (12.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721133145')
  [1m[36m (15.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719134555')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721132013')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719154331')[0m
  [1m[35m (11.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170719142959')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719154729')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170719143143')
  [1m[36m (27.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170721131928')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-07-25 20:22:05', '2017-07-25 20:22:05', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-07-25 20:22:05', '2017-07-25 20:22:05', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-07-25 20:22:05', '2017-07-25 20:22:05', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-07-25 20:22:05', '2017-07-25 20:22:05', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-07-25 20:22:05', '2017-07-25 20:22:05', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-07-25 20:22:05', '2017-07-25 20:22:05', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-07-25 20:22:05', '2017-07-25 20:22:05', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-07-25 20:22:05', '2017-07-25 20:22:05', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-07-25 20:22:05', '2017-07-25 20:22:05', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-07-25 20:22:05', '2017-07-25 20:22:05', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-07-25 20:22:05', '2017-07-25 20:22:05', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-07-25 20:22:05', '2017-07-25 20:22:05', 298486374)
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (10.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 11988ms (Views: 11986.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
SmartShoppingControllerTest: test_should_get_makelist
-----------------------------------------------------
Processing by SmartShoppingController#makelist as HTML
  [1m[35mShopper Load (0.5ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (71.7ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 90ms (Views: 88.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ZLwHU21K3pQmarYtNIliwuAGI9t4bX6C1mgyqEYa6RZcXlVzvi70u"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:18.809055"], ["updated_at", "2017-07-25 20:22:18.809055"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (8.0ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 32ms (Views: 24.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$uM3fCiVZ.nWrNSccg6RkaO8YRWCLXGzFel5wxiH9LCMLBbd9pe4PO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:19.046202"], ["updated_at", "2017-07-25 20:22:19.046202"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.7ms)
  Rendered users/new.html.erb within layouts/application (27.2ms)
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 39ms (Views: 37.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:19.279905"], ["updated_at", "2017-07-25 20:22:19.279905"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:19.607778"], ["updated_at", "2017-07-25 20:22:19.607778"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:19.766475"], ["updated_at", "2017-07-25 20:22:19.766475"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:20.045705"], ["updated_at", "2017-07-25 20:22:20.045705"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:20.345630"], ["updated_at", "2017-07-25 20:22:20.345630"]]
  [1m[35m (1.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:20.653080"], ["updated_at", "2017-07-25 20:22:20.653080"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:20.956390"], ["updated_at", "2017-07-25 20:22:20.956390"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:22.092125"], ["updated_at", "2017-07-25 20:22:22.092125"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:22.558943"], ["updated_at", "2017-07-25 20:22:22.558943"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:23.021668"], ["updated_at", "2017-07-25 20:22:23.021668"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$TEre58F4jS1/jakYdleqyuaCKiZ/Lmd5/TE8PQBbEaGsBuStoKj1C"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:23.206007"], ["updated_at", "2017-07-25 20:22:23.206007"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:23.376514"], ["updated_at", "2017-07-25 20:22:23.376514"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$W6MRFqiW0PEbiaD5Idh5V.ncZZ1a121n5Sc9oiXwbUdF5x7ogY2IK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:23.570483"], ["updated_at", "2017-07-25 20:22:23.570483"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:23.722346"], ["updated_at", "2017-07-25 20:22:23.722346"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$aOZzaGRffCA/2IKdmFTNM.uScFvsK8f4vI/Io3/uvXx87bQ5OuB16"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:23.879392"], ["updated_at", "2017-07-25 20:22:23.879392"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:24.035578"], ["updated_at", "2017-07-25 20:22:24.035578"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$anLSCnGejtdWQ4Gkj1ZK7eRMNaIJ/dyM2k1AAJGYUtSbhSs7KgGra"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:24.192930"], ["updated_at", "2017-07-25 20:22:24.192930"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:24.346942"], ["updated_at", "2017-07-25 20:22:24.346942"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$aLsOn.3sIuEMSVfAJbq7rusiytGCg7i0Obu3uL39wbhpMmI6GChU6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:24.527007"], ["updated_at", "2017-07-25 20:22:24.527007"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:24.664564"], ["updated_at", "2017-07-25 20:22:24.664564"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$oxztaHN2./Qwh9I2XVS7QeoflcHQz0Ljcvxsq6HpCxj8twMWMlGhG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:24.827786"], ["updated_at", "2017-07-25 20:22:24.827786"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:24.858450"], ["updated_at", "2017-07-25 20:22:24.858450"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:24.872781"], ["updated_at", "2017-07-25 20:22:24.872781"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:24.886180"], ["updated_at", "2017-07-25 20:22:24.886180"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:24.898220"], ["updated_at", "2017-07-25 20:22:24.898220"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:24.905921"], ["updated_at", "2017-07-25 20:22:24.905921"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:24.914462"], ["updated_at", "2017-07-25 20:22:24.914462"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:24.924937"], ["updated_at", "2017-07-25 20:22:24.924937"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:25.005363"], ["updated_at", "2017-07-25 20:22:25.005363"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$9RzxUl4tlczyHiUndUc1qeQsPugjCCeUXhi6ESTG7hQWIasmbAf6O"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:25.156073"], ["updated_at", "2017-07-25 20:22:25.156073"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-07-25 20:22:25.168573"], ["updated_at", "2017-07-25 20:22:25.168573"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:25.187670"], ["updated_at", "2017-07-25 20:22:25.187670"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6c27tdrry/zKBNvKEvRcL.RvNUdKSIOt56pguRBfVxWN2EyZwcSXm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:25.341383"], ["updated_at", "2017-07-25 20:22:25.341383"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-07-25 20:22:25.347988"], ["updated_at", "2017-07-25 20:22:25.347988"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:22:25.356712"], ["updated_at", "2017-07-25 20:22:25.356712"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$8IOSoTFZvsgYEa22am8IsebFcHzf5QGVLet9br/s94TZ3FoceYqgO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:25.516354"], ["updated_at", "2017-07-25 20:22:25.516354"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-07-25 20:22:25.524243"], ["updated_at", "2017-07-25 20:22:25.524243"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$dV6bcR1t9pUW.Cuy97gnBuU/ajV.FCBLm2LSrouPVfbD.At.gRYkq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:25.729298"], ["updated_at", "2017-07-25 20:22:25.729298"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$HuPM0fORTQUvfteGk7E44uEgg7J2wxloydrpe0ab/A6706NJlbSUm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:26.066378"], ["updated_at", "2017-07-25 20:22:26.066378"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$NQfB4YWHqsy8DJpA6QaRz.LB3OnxBUnMMqMJOkzMqGw3xtS51CHqO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:26.930238"], ["updated_at", "2017-07-25 20:22:26.930238"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$hcYUnzZTBksN.prn8F7stuq6ellf0Xt0LdYOfEL8iKdmFnSQ.are."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:27.072682"], ["updated_at", "2017-07-25 20:22:27.072682"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (3.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/drUsdMNu7TKaEpCkWQQXe.cCcKF8ANVLNPx6dUjITBrX2u//7yze"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:27.341608"], ["updated_at", "2017-07-25 20:22:27.341608"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$3rS.gIrDlQJgyUBKoKdX5O1AVZXEMWGw9Z0/pSHAQ5YIDp7ENJNoi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:27.638405"], ["updated_at", "2017-07-25 20:22:27.638405"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$cMXd7qNRWli/xaqI.qtAfeUJwcV6rBgiacXsRmahY7ED2lrIY7KWO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:27.943973"], ["updated_at", "2017-07-25 20:22:27.943973"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$aZLT8SYDsOw973WkcLEFBehefBnC3F9yJFo9M6joXnoxlM/y3h/yq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:28.826116"], ["updated_at", "2017-07-25 20:22:28.826116"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$u25ruZw/bGfPMvyLHlKrlOnHR6LMMy/X9UuTD8AIrPCHYUGiG06xe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:29.113995"], ["updated_at", "2017-07-25 20:22:29.113995"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (5.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$oVCPSwl23hqqvOvDzQeyVuUTVvlkdlOhyIiW4tWRlum1imGiAyIK."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:29.409775"], ["updated_at", "2017-07-25 20:22:29.409775"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$5xI8hT3NDzwxlN3ADh7PIec8MFrD3WZlaVvUsaMLOxm1MpHPMLvFK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:29.703216"], ["updated_at", "2017-07-25 20:22:29.703216"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$XjEEWnbdcGsL.G5J4hU5dOnRm3nCL6bMDQYonzSrnIx1I56K6IAtu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:30.475222"], ["updated_at", "2017-07-25 20:22:30.475222"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KcyllPfldc/GmBV5pwU.AedoxikMmKJCrBsyQcdBEI8sgoiogTWY."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:30.763965"], ["updated_at", "2017-07-25 20:22:30.763965"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Iw4V/SCe9RMxKdRd40qPjOFxjnKtXAlIqoXIWoe2uffY5dAN/OjW6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:31.212756"], ["updated_at", "2017-07-25 20:22:31.212756"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$rKDDpG2HYO9NuEWgJtDF2OWUvir7ZdCCrFScHdp0yXSpIL3V.2Lbe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:31.532460"], ["updated_at", "2017-07-25 20:22:31.532460"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["email", "cla@gmail.com"], ["updated_at", "2017-07-25 20:22:31.692302"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$nN7d2KeYHwVxresE9bZY1.H/zX4Qw9YyhIt.d7Z1VONwBvF0.gjz."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:32.020348"], ["updated_at", "2017-07-25 20:22:32.020348"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$VQtCczxF15KkfEkcw7S59.oDS351mCnxk2E8UbDhncBe.HkIbUY86"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:32.360303"], ["updated_at", "2017-07-25 20:22:32.360303"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$3wfc/1zwRSiv8aaaXhkmtORgjRz3piy06iLOm4Tzre6Ze98FTnuKO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:22:32.514588"], ["updated_at", "2017-07-25 20:22:32.514588"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-07-25 20:23:52', '2017-07-25 20:23:52', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-07-25 20:23:52', '2017-07-25 20:23:52', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-07-25 20:23:52', '2017-07-25 20:23:52', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-07-25 20:23:52', '2017-07-25 20:23:52', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-07-25 20:23:52', '2017-07-25 20:23:52', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-07-25 20:23:52', '2017-07-25 20:23:52', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-07-25 20:23:52', '2017-07-25 20:23:52', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-07-25 20:23:52', '2017-07-25 20:23:52', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-07-25 20:23:52', '2017-07-25 20:23:52', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-07-25 20:23:52', '2017-07-25 20:23:52', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-07-25 20:23:52', '2017-07-25 20:23:52', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-07-25 20:23:52', '2017-07-25 20:23:52', 298486374)
  [1m[36m (66.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:23:52.946685"], ["updated_at", "2017-07-25 20:23:52.946685"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$jZ8ZRH8mCwIa34GZIe46B.PFweGA/.nKER68/MctlKc0jaNFr0iNu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:53.164542"], ["updated_at", "2017-07-25 20:23:53.164542"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-07-25 20:23:53.178885"], ["updated_at", "2017-07-25 20:23:53.178885"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:23:53.209307"], ["updated_at", "2017-07-25 20:23:53.209307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ueNaqoySkCk2XNn1DmBebutHfb4I/6dxCrPGkhtb42B.EC3eLAO5C"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:53.377307"], ["updated_at", "2017-07-25 20:23:53.377307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-07-25 20:23:53.383750"], ["updated_at", "2017-07-25 20:23:53.383750"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:23:53.392751"], ["updated_at", "2017-07-25 20:23:53.392751"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$IeTLGzq7IODt0xlBUaeaTefvwn57rHKWbAJ3sgxmHgjwMOfnwvnyO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:53.545629"], ["updated_at", "2017-07-25 20:23:53.545629"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-07-25 20:23:53.552120"], ["updated_at", "2017-07-25 20:23:53.552120"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 344ms (Views: 343.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Qfr/M8P.JVoIYstzLzbSZuAgfYvQx16/s2WUUXIis72PDUuoyxvwK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:54.196049"], ["updated_at", "2017-07-25 20:23:54.196049"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$SwBo3R4JsIpLDLkzIj.TE.kAm9vdVa7IJqZ1gF7lPpPTgh6UkQIMy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:54.342505"], ["updated_at", "2017-07-25 20:23:54.342505"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$EFO8LvM2jtdpUdZhPgXkiemaPJtcklNU3jk2tk2wk8D1KXCtztp4K"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:54.528231"], ["updated_at", "2017-07-25 20:23:54.528231"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$YzYDbvWHLPax3NVGrMongeuGYxJ.CExA11JcSLLkcwqT4APpGagSC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:55.367452"], ["updated_at", "2017-07-25 20:23:55.367452"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Lkl/ChHunYLq/kWNcJRgY.QrMJN5xsRBuP46ofcv5b05nUlrTUYse"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:55.657848"], ["updated_at", "2017-07-25 20:23:55.657848"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$MyTvobgjLb6DEqRZ95tZy.gMzafyUm4JEt73xiNa/2Lg3z0zeo6Uu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:55.958047"], ["updated_at", "2017-07-25 20:23:55.958047"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$qNxzNAy5v0AxBbx2O02WJew4Ypkw3UaDBpaH2GrAh8m19WUVU4fgi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:56.314595"], ["updated_at", "2017-07-25 20:23:56.314595"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["email", "cla@gmail.com"], ["updated_at", "2017-07-25 20:23:56.461595"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$rHiJf6uD1Rd5ZXywnhhJWuVZ.m6ZkbA4iZtYU2X2MgC60g8bEt9SG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:56.779832"], ["updated_at", "2017-07-25 20:23:56.779832"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$.hzGtimSdpDg9hoBCjDKQuFKzVJ6ut1amxnEfAbW6QDQ0mlcs3hRG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:57.722076"], ["updated_at", "2017-07-25 20:23:57.722076"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$MJrQxSUjXCxcfhVpI5BwD.sBlvGs/K/v4wL2sYRSkOwfQLfTHgz3q"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:57.884939"], ["updated_at", "2017-07-25 20:23:57.884939"]]
  [1m[36m (2.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$FFyMPM5aX8EOQRaNicrx1efYDa6k5/TXKxzZOeDDp5xQp7Ort9YhS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:58.208942"], ["updated_at", "2017-07-25 20:23:58.208942"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$hm0QHayOpMb0x8PSjw2wZ.COSSvoVQKH7UuXz/4T8ZXzv13GXX4Ly"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:59.176354"], ["updated_at", "2017-07-25 20:23:59.176354"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$G4ARxQmGqh/CaxxCwg.4xenpoPBxUBzT35OvDSDUtDIt/3pSxj6Mm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:59.497106"], ["updated_at", "2017-07-25 20:23:59.497106"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$yO9wmU3ToAQB3AEAbGj58OMXzc8g89hbLzefVpaMD7PUvyrCCzx9S"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:23:59.946984"], ["updated_at", "2017-07-25 20:23:59.946984"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$E9gKjD9mJPTLAJXeT6snxOBneTK.cuNSglfUcznUKUj0Mrf2k5OyK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:00.566046"], ["updated_at", "2017-07-25 20:24:00.566046"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Kfjpn1YbHx9CkRVHaJesnuyUOeDBOsUrOFZg0WpTnnmBAaqvQRAmG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:00.870411"], ["updated_at", "2017-07-25 20:24:00.870411"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Oq7rlt04MHoDgJTNExyST.AZdqLK4lM5E4cVCK/pbQ2cZ56UCv6q6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:01.185273"], ["updated_at", "2017-07-25 20:24:01.185273"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$L1Ii5Gs22mfDfgVn2qEvQ.jzFrUTFYYq21AnhMkY0dm3i4YY7ZoBS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:01.532923"], ["updated_at", "2017-07-25 20:24:01.532923"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:01.903125"], ["updated_at", "2017-07-25 20:24:01.903125"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$j5Eo1oAs7icL63XQUW93lO.1E.iHU/T..HoHI.pWubtvG2bQcmlom"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:02.062071"], ["updated_at", "2017-07-25 20:24:02.062071"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:02.294116"], ["updated_at", "2017-07-25 20:24:02.294116"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$muOcJBAKeHw5QadV8tZ9UuUUlTPvYO8bd.p0z0pakG1sFknVA7B2K"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:02.450339"], ["updated_at", "2017-07-25 20:24:02.450339"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:02.608083"], ["updated_at", "2017-07-25 20:24:02.608083"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$CUT6SBpaLi1eEwE1BxEcwO7LvRtwaRtCXj.1B.YwtVGOyMIk72Xli"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:02.750761"], ["updated_at", "2017-07-25 20:24:02.750761"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:02.903010"], ["updated_at", "2017-07-25 20:24:02.903010"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$y8oz6IEKqtl4hlUpFtsk0edgqGOU0ZShyCyGnFl.A1s0ZgfxbUAuG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:03.045139"], ["updated_at", "2017-07-25 20:24:03.045139"]]
  [1m[35m (1.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:03.201668"], ["updated_at", "2017-07-25 20:24:03.201668"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$yNsxdsbHEsSVoHJ/ftdH8ebXKPVGjl2gyI/PlobtvRHDINlM3SII2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:03.349434"], ["updated_at", "2017-07-25 20:24:03.349434"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:03.502514"], ["updated_at", "2017-07-25 20:24:03.502514"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ZCRl5HeXt7.byrmx56UnAOXmhlTM8uw6TuQi/9.SA74rhSIDpaq1W"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:03.662251"], ["updated_at", "2017-07-25 20:24:03.662251"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:24:03.674897"], ["updated_at", "2017-07-25 20:24:03.674897"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:24:03.685831"], ["updated_at", "2017-07-25 20:24:03.685831"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:24:03.693981"], ["updated_at", "2017-07-25 20:24:03.693981"]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:24:03.703599"], ["updated_at", "2017-07-25 20:24:03.703599"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:24:03.712074"], ["updated_at", "2017-07-25 20:24:03.712074"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:24:03.720398"], ["updated_at", "2017-07-25 20:24:03.720398"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-07-25 20:24:03.729590"], ["updated_at", "2017-07-25 20:24:03.729590"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (26.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 43ms (Views: 41.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:03.942231"], ["updated_at", "2017-07-25 20:24:03.942231"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:04.401515"], ["updated_at", "2017-07-25 20:24:04.401515"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:04.665275"], ["updated_at", "2017-07-25 20:24:04.665275"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:04.948201"], ["updated_at", "2017-07-25 20:24:04.948201"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:05.100584"], ["updated_at", "2017-07-25 20:24:05.100584"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:05.536282"], ["updated_at", "2017-07-25 20:24:05.536282"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:05.798129"], ["updated_at", "2017-07-25 20:24:05.798129"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:06.075832"], ["updated_at", "2017-07-25 20:24:06.075832"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:06.562187"], ["updated_at", "2017-07-25 20:24:06.562187"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6l1l8S22m6.XVfVvTdPJvujzkIJYyxn.VrNWotl4sM5HLu0bFE.oK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:06.851471"], ["updated_at", "2017-07-25 20:24:06.851471"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (24.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 40ms (Views: 39.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$IF7AA9egJauzfaA6buOcbutmcmcilpJ.h1wyUqYEDKR/NnDOV8Nh6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-07-25 20:24:07.050948"], ["updated_at", "2017-07-25 20:24:07.050948"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (4.2ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 20ms (Views: 13.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (32.0ms)[0m  [1mCREATE TABLE "managers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "surname" varchar, "yearofbirth" integer, "tel" varchar, "email" varchar, "curriculum" text, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar) [0m
  [1m[35m (8.9ms)[0m  CREATE TABLE "markets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar, "group" varchar, "info" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "latitude" float, "longitude" float, "manager_id" integer) 
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (36.6ms)[0m  CREATE  INDEX "index_markets_on_manager_id" ON "markets" ("manager_id")
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE "microposts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "vote" integer, "user_id" integer, "market_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (7.0ms)[0m  CREATE  INDEX "index_microposts_on_market_id" ON "microposts" ("market_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_microposts_on_market_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_microposts_on_market_id' AND type='index'
[0m
  [1m[35m (6.6ms)[0m  CREATE  INDEX "index_microposts_on_user_id" ON "microposts" ("user_id")
  [1m[36m (8.5ms)[0m  [1mCREATE TABLE "owners" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "market_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "price" integer) [0m
  [1m[35m (9.0ms)[0m  CREATE  INDEX "index_owners_on_market_id" ON "owners" ("market_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_owners_on_market_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_owners_on_market_id' AND type='index'
[0m
  [1m[35m (8.7ms)[0m  CREATE  INDEX "index_owners_on_product_id" ON "owners" ("product_id")
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "label" varchar, "package" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shopper_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (7.1ms)[0m  [1mCREATE  INDEX "index_requests_on_product_id" ON "requests" ("product_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_requests_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_requests_on_product_id' AND type='index'

  [1m[36m (25.4ms)[0m  [1mCREATE  INDEX "index_requests_on_shopper_id" ON "requests" ("shopper_id")[0m
  [1m[35m (35.7ms)[0m  CREATE TABLE "shoppers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (7.4ms)[0m  [1mCREATE  INDEX "index_shoppers_on_user_id" ON "shoppers" ("user_id")[0m
  [1m[35m (9.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "surname" varchar, "email" varchar, "yearofbirth" integer, "address" varchar, "latitude" float, "longitude" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password" varchar, "password_digest" varchar) 
  [1m[36m (53.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (60.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170906202945')
  [1m[36m (8.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170802152002')[0m
  [1m[35m (7.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170906202441')
  [1m[36m (8.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719155029')[0m
  [1m[35m (8.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721133145')
  [1m[36m (6.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719134555')[0m
  [1m[35m (8.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721132013')
  [1m[36m (8.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170906202651')[0m
  [1m[35m (7.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170719154331')
  [1m[36m (7.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719142959')[0m
  [1m[35m (8.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721133211')
  [1m[36m (7.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170802150846')[0m
  [1m[35m (8.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170719154729')
  [1m[36m (7.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719143143')[0m
  [1m[35m (7.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721131928')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "managers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:52:30', '2017-09-06 20:52:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:52:30', '2017-09-06 20:52:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "owners"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "microposts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "products"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:52:30', '2017-09-06 20:52:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:52:30', '2017-09-06 20:52:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "shoppers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "requests"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:52:30', '2017-09-06 20:52:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "markets"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:52:30', '2017-09-06 20:52:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:52:30', '2017-09-06 20:52:30', 298486374)[0m
  [1m[35m (11.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:30.480202"], ["updated_at", "2017-09-06 20:52:30.480202"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (27.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Ac316vu6UVsz0aJ7ivSXuuMCdEypT4zJac0qe7VkzZf0XyiS06kau"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:30.599500"], ["updated_at", "2017-09-06 20:52:30.599500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:30.753757"], ["updated_at", "2017-09-06 20:52:30.753757"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$2spBgk0tBnhj6NsLeXc6POJIW2f/7oLyDKz2LRUbCZq9nNLMT37rO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:30.829758"], ["updated_at", "2017-09-06 20:52:30.829758"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:30.914559"], ["updated_at", "2017-09-06 20:52:30.914559"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$j/DF6wVulwrum7.iq8xSFeOCRQgJkATYFr2pyhuQeWxH7CDxP3hAG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:30.991306"], ["updated_at", "2017-09-06 20:52:30.991306"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.067401"], ["updated_at", "2017-09-06 20:52:31.067401"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/.RfWipHJmhjXxipU2hKv.da2Ttb729fEf6wttGarhc/AJk6ac3z."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.145368"], ["updated_at", "2017-09-06 20:52:31.145368"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.243267"], ["updated_at", "2017-09-06 20:52:31.243267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$qmp/sXH5KaPm52tzYp/sz.zVgFmOHbDZQqWODp3ATWoohsuLMQbfu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.313990"], ["updated_at", "2017-09-06 20:52:31.313990"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.386559"], ["updated_at", "2017-09-06 20:52:31.386559"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$j/EeOY/hkTClHEvXSY2oQekgYMJZLWv/HUMF9wWNVxtM1uINP/x6S"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.459359"], ["updated_at", "2017-09-06 20:52:31.459359"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:31.472762"], ["updated_at", "2017-09-06 20:52:31.472762"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$u.xXkVL3d8DZTR3SVeoAO..M50lqsIRW8B1pLvJU0iD0bYqPGZGLm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.543455"], ["updated_at", "2017-09-06 20:52:31.543455"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:52:31.550559"], ["updated_at", "2017-09-06 20:52:31.550559"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:31.560767"], ["updated_at", "2017-09-06 20:52:31.560767"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$v9LC1MNzOZDXIMkoklh4GuCe/TgP0vgbAwAWZVDDTWblt2IXXGZzm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.657499"], ["updated_at", "2017-09-06 20:52:31.657499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:52:31.660750"], ["updated_at", "2017-09-06 20:52:31.660750"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:31.664686"], ["updated_at", "2017-09-06 20:52:31.664686"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$njvR7qfm50oozA77ADifOu7sWW8YFJHFWsP6ikHiQck7Jeap8X4H6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.749494"], ["updated_at", "2017-09-06 20:52:31.749494"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:52:31.752736"], ["updated_at", "2017-09-06 20:52:31.752736"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$DbC.4RWidmkVq1C7w0K13u7qiSTTyLi8IQ11tXlBvGoqLxdI0RaP."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:31.953955"], ["updated_at", "2017-09-06 20:52:31.953955"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered users/new.html.erb within layouts/application (45.2ms)
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 796ms (Views: 793.7ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RJoecnQt7YFNG5YlQ7wi.u0N1EeDkIHElPstog/t0l.J.QUxcIrWa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:32.840856"], ["updated_at", "2017-09-06 20:52:32.840856"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (2.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$F2TcqkHd7dxluJ9PSGxbtOcy7.uT/MUkgertGOu7.YH2L7FnwLLiq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:32.959997"], ["updated_at", "2017-09-06 20:52:32.959997"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$JCM1nBPgVj6MySXgxPhOc.r.ziwsqs5VTzD2e6fo4hShVbTTFQflK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:33.031931"], ["updated_at", "2017-09-06 20:52:33.031931"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$MfwzuiUgDG/XYC68oxU9huVcZG1ZPedyboL6SCN7EHp5j58zXbbvy"], ["created_at", "2017-09-06 20:52:33.091565"], ["updated_at", "2017-09-06 20:52:33.091565"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$hLzhazq6Z7oJN/QohQf/reYRYoUwq/RT2TfG7M1PkCSOrertlmcdy"], ["created_at", "2017-09-06 20:52:33.104470"], ["updated_at", "2017-09-06 20:52:33.104470"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$TaEvim60aak1FMhTHM8z5.sxcP1nTkMI2Y0EfPlwbBlKcxA1wm1Gu"], ["created_at", "2017-09-06 20:52:33.113733"], ["updated_at", "2017-09-06 20:52:33.113733"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_tel_validation_should_reject_invalid_addresses
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$ZVhNsvKJ.uMy/MaxQPRzZO.xQDgcq1kPGF0lP/1Okjx3.gwFKBu1O"], ["created_at", "2017-09-06 20:52:33.123620"], ["updated_at", "2017-09-06 20:52:33.123620"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$gqaWisAcCpnzu/pCEEYObedQ2SGsjrEkiWBUlMwbrEOq36k8Xiyw6"], ["created_at", "2017-09-06 20:52:33.131064"], ["updated_at", "2017-09-06 20:52:33.131064"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$NHpquewu2AA07YtSj17MveJndLvBEdyhQZFodtG0ZWX7QxPIoKBay"], ["created_at", "2017-09-06 20:52:33.138709"], ["updated_at", "2017-09-06 20:52:33.138709"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$jfxMPviBEt5Izeru0qVMUOQBx7/Ny8bWLvHW2M4LrGomehV6LvOB6"], ["created_at", "2017-09-06 20:52:33.149623"], ["updated_at", "2017-09-06 20:52:33.149623"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$PkLwhSXTB5fi2qfwup5oVeeJdm2y8IjGGdqSE/NoucUsH7.0FRV.K"], ["created_at", "2017-09-06 20:52:33.167319"], ["updated_at", "2017-09-06 20:52:33.167319"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$QRVCz3SVn9Hb.yEm6WPb2uf1cLE9dQ3FrE9LvjetI90XVeVWp98Oe"], ["created_at", "2017-09-06 20:52:33.178087"], ["updated_at", "2017-09-06 20:52:33.178087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$tGfiK6neFUixTE0D45AaYOWwZnRC2o3MrHXmFR7XIvEaRRLAVprhu"], ["created_at", "2017-09-06 20:52:33.187416"], ["updated_at", "2017-09-06 20:52:33.187416"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (1.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$YXM0TY6q/DKOupXKpe/.Ien5IfcijbT5USxNA/nSbtqtKD4H2Pa4y"], ["created_at", "2017-09-06 20:52:33.197292"], ["updated_at", "2017-09-06 20:52:33.197292"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$lzdZ.Oi0TnofECvzCky7CO9SYuAh7X5nKTw.a6R4QompvYI/HJFEG"], ["created_at", "2017-09-06 20:52:33.207609"], ["updated_at", "2017-09-06 20:52:33.207609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$src2ZkJiF1XnDB68PJ3BCe43Udj5gnXgqLNvKGz//Qs3d4mYtr05O"], ["created_at", "2017-09-06 20:52:33.217238"], ["updated_at", "2017-09-06 20:52:33.217238"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
ManagerTest: test_email_addresses_should_be_unique
--------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$eS4POzJefBhaXtr.DQjjDOTxJzYvJrLoWcGRDx.A5hEriM0WLKfLS"], ["created_at", "2017-09-06 20:52:33.227348"], ["updated_at", "2017-09-06 20:52:33.227348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "managers" SET "email" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["email", "m.rossi@gmail.com"], ["updated_at", "2017-09-06 20:52:33.231877"], ["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('M.ROSSI@GMAIL.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
ManagerTest: test_password_should_have_a_minimum_length
-------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$.l8UsJtpOsa1VTgXxAfo.ejbceuoZINYsRe/hpzR1R12j.V86vn2K"], ["created_at", "2017-09-06 20:52:33.243097"], ["updated_at", "2017-09-06 20:52:33.243097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$G7VnhVqoIHfYarvUmJUhnOCTcYe2eT9bfo7x6zxzcoCeZFrvf9Ul."], ["created_at", "2017-09-06 20:52:33.255003"], ["updated_at", "2017-09-06 20:52:33.255003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$cTPzF89VkbgEr4BLWcDA0.3VT8C/Da2WJ7Mdne5o3cTwib7gpiUY2"], ["created_at", "2017-09-06 20:52:33.268056"], ["updated_at", "2017-09-06 20:52:33.268056"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
ManagerTest: test_tel_validation_should_accept_valid_addresses
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$LMO94B9A8XVbku9k/1FOte0czNSMRCVjzMDNoqKIz9oMAZco691Nm"], ["created_at", "2017-09-06 20:52:33.277742"], ["updated_at", "2017-09-06 20:52:33.277742"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:33.282423"], ["updated_at", "2017-09-06 20:52:33.282423"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:33.287961"], ["updated_at", "2017-09-06 20:52:33.287961"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:33.293044"], ["updated_at", "2017-09-06 20:52:33.293044"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:33.297483"], ["updated_at", "2017-09-06 20:52:33.297483"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:33.301116"], ["updated_at", "2017-09-06 20:52:33.301116"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:33.305726"], ["updated_at", "2017-09-06 20:52:33.305726"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:52:33.310253"], ["updated_at", "2017-09-06 20:52:33.310253"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:33.386046"], ["updated_at", "2017-09-06 20:52:33.386046"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:33.525339"], ["updated_at", "2017-09-06 20:52:33.525339"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:33.595720"], ["updated_at", "2017-09-06 20:52:33.595720"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:33.815458"], ["updated_at", "2017-09-06 20:52:33.815458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:33.956551"], ["updated_at", "2017-09-06 20:52:33.956551"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:34.692637"], ["updated_at", "2017-09-06 20:52:34.692637"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:34.846811"], ["updated_at", "2017-09-06 20:52:34.846811"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:35.000831"], ["updated_at", "2017-09-06 20:52:35.000831"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:35.726659"], ["updated_at", "2017-09-06 20:52:35.726659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:35.878795"], ["updated_at", "2017-09-06 20:52:35.878795"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$zpGJ9enD1Fvc/f0jyx9mKuxBxXa4CmKdCN7aTqgl8j9/imh2CzzYm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:36.039373"], ["updated_at", "2017-09-06 20:52:36.039373"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Lvqx0vmmV5h69kk//QO2ieiYi1oJksLz0/JGj/FGLtJmRPPud5hbm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:36.536531"], ["updated_at", "2017-09-06 20:52:36.536531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$smdJmlHP0w6w3YO6/skDWus72KO2P7LGAmJ3kwo04cS/hWVxlM/eG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:36.695682"], ["updated_at", "2017-09-06 20:52:36.695682"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Rqw7un7Zya6jP.aPYnE4XeZGB8hZTvr4t1vrCBmeJfECsM7D7aVju"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:36.888519"], ["updated_at", "2017-09-06 20:52:36.888519"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$iVP0HJ98wvBHJhxJyAlgnuMsdMQwN48sUeqPM8.wWQQsYPSfluQJO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:37.151553"], ["updated_at", "2017-09-06 20:52:37.151553"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$vj2qwAglxMO5ZNFY/OfoZ..2ikz2/HMJCFBNxHRKZa5ofmxhlpqrO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:37.303976"], ["updated_at", "2017-09-06 20:52:37.303976"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 20:52:37.380162"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$QG3umaGqByBiSCfrJxr91eULKxRivNxvVZWsgOOqEenbpCkYEhLj."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:37.530643"], ["updated_at", "2017-09-06 20:52:37.530643"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KqC4SedBrC10CmdgbybitOZL3cgLbAhQFnilfqyFkfkWTTaN2lZoq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:37.683460"], ["updated_at", "2017-09-06 20:52:37.683460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Kv9J9j3G2rKekB0f7rCo5uBaEHViyK6UXkIKdE99m8AYhnt3QBIeG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:37.843723"], ["updated_at", "2017-09-06 20:52:37.843723"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$rGsxH30lVoSe6aDW3ZyPFu9vDrrDY2bKTTH9KBtHAZD5fhWAP4rKu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:37.998179"], ["updated_at", "2017-09-06 20:52:37.998179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$YuHL1z6wQqMh1bdq4InOR.CdVgiIHRPJAYwv30i3SBoWvjiZk2dGa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:38.166649"], ["updated_at", "2017-09-06 20:52:38.166649"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$.3JpldWOfQe/wKNTOqNrxug47odnnpd5MRZ4bc0J6V5F8nDtZsNU."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:39.022536"], ["updated_at", "2017-09-06 20:52:39.022536"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$SfZ9PTcK14zwaA9ltu6CJe3YEegvdSyg.cJ1HjX8iHEdwttVx3qRW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:39.197228"], ["updated_at", "2017-09-06 20:52:39.197228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$blt58IXxZTLrmCumQQgVBOaj.Sn5d.sDn0UwOJnUquLjuq/nCEgPS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:39.683534"], ["updated_at", "2017-09-06 20:52:39.683534"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$CQrCTOMv9uwIkXHZN8aFZufntU.LIVQfrATXBd3bpWzygYtq/CcWG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:39.841769"], ["updated_at", "2017-09-06 20:52:39.841769"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$z8zCpYQfrFG9NsBzoxaQJ.guMWu3JxKdKHya7IsBif2im9INd9B0u"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:40.016344"], ["updated_at", "2017-09-06 20:52:40.016344"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$l1/F7FaUxesHgOpJlEdxV.EhSu4z3WlCiSLCxvH3aN384Waj.YoWa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:52:40.098672"], ["updated_at", "2017-09-06 20:52:40.098672"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (21.9ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 36ms (Views: 35.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:54:03', '2017-09-06 20:54:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:54:03', '2017-09-06 20:54:03', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:54:03', '2017-09-06 20:54:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:54:03', '2017-09-06 20:54:03', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:54:03', '2017-09-06 20:54:03', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:54:03', '2017-09-06 20:54:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:54:03', '2017-09-06 20:54:03', 298486374)
  [1m[36m (39.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:03.163584"], ["updated_at", "2017-09-06 20:54:03.163584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:03.168405"], ["updated_at", "2017-09-06 20:54:03.168405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:03.181196"], ["updated_at", "2017-09-06 20:54:03.181196"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[35m (1.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:03.196771"], ["updated_at", "2017-09-06 20:54:03.196771"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:03.201893"], ["updated_at", "2017-09-06 20:54:03.201893"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:03.206193"], ["updated_at", "2017-09-06 20:54:03.206193"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:03.211192"], ["updated_at", "2017-09-06 20:54:03.211192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$SY//vSOZ5czdhO1WLwUAxeOyUXcJpMzDNtdCKGOH2e.ShJWrK5qWy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:03.368414"], ["updated_at", "2017-09-06 20:54:03.368414"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered users/new.html.erb within layouts/application (21.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 439ms (Views: 438.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$GDCmO8z0awf.28g/2612O.vex815ZNtDg2jbxZ60aWrrl7OmC1tza"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:03.911446"], ["updated_at", "2017-09-06 20:54:03.911446"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 13ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$tg3jma5lj2V7ul2Src5JYuni9G9umKlImAK1.LGkYzBYuz4nU/AI2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:04.070558"], ["updated_at", "2017-09-06 20:54:04.070558"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$uNYkYpoaPBsSLEGeeFauVegGntVs6jVIVCXjFPujAhS82eTrUbzcC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:04.231442"], ["updated_at", "2017-09-06 20:54:04.231442"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$b4LVfD9T2uyql9FgLVuOP.pPwcCZgmigls8BuPDzA9EPwrTmctx2C"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:04.384550"], ["updated_at", "2017-09-06 20:54:04.384550"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$jtmY9YG/6edEm8e/QPmej.Kh4HI6iqAQGMJaiSppeiK0P9OWW7xE6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:04.581196"], ["updated_at", "2017-09-06 20:54:04.581196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$81gJFck4zvhQSBFJMGL5EeHBbHH4Pc9OHe4y75TF7tQ00lAEUFTiG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:04.750558"], ["updated_at", "2017-09-06 20:54:04.750558"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6jwFGfx8TpV9k/iidDMIs.r568hmB/8fG6DsIBQBSrW0g8BGVYGRq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:04.947438"], ["updated_at", "2017-09-06 20:54:04.947438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$SuO1cAk8cFJ9QnNaMKclzO4E6nx1XK8NmOIcIxdKz45oO4eL70yyi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:05.415298"], ["updated_at", "2017-09-06 20:54:05.415298"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$jlZKh6y25yMwm8S1TTkIDex3Z2TCldBYyMa/10J2wr72uiQQrrbEu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:05.561644"], ["updated_at", "2017-09-06 20:54:05.561644"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$bae9G2Hs/93MdPGNp.gEEOSuilMkw3.UfjtZsSaIV1boyA2WK5CPW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:06.132324"], ["updated_at", "2017-09-06 20:54:06.132324"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$R0fTVBGDFh.uLR2KV5MU/uB.wKGUnzf5CmXk5AmYYBFfqrJ3uwTHK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:06.280251"], ["updated_at", "2017-09-06 20:54:06.280251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$qDnleV34BSyDts/yGbltoeksLmSXj6UqHBmn5mmwzZOXBTaMyrerW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:06.414345"], ["updated_at", "2017-09-06 20:54:06.414345"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$0u4xtwLLsQLsgBlEUYCzQ.4NUVcnhMNlXY4nSb16r.MNgSAth5bFq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:06.493988"], ["updated_at", "2017-09-06 20:54:06.493988"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ghgQagGVyUI8SCOxS7ZQU..Ab2Sym.cE2FXQXrGl2J0oO7XUwcy1K"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:06.636424"], ["updated_at", "2017-09-06 20:54:06.636424"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$N6Gbi.uQDf89eNbqadJuSewvpsr0QKBdNJX3y3PCp9FYP.UTG1F1G"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:07.119576"], ["updated_at", "2017-09-06 20:54:07.119576"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$qbuVsOgmUGZjaGQpix4CP.UdyMEzunk5LgYWfb1XTzEi3mob4gkwa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:07.270218"], ["updated_at", "2017-09-06 20:54:07.270218"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 20:54:07.343566"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6pO9EU5vjx2QiZXlD4275eTU.SP4GGIDlL4WAtXZW.2WG5vQdSTVS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:07.484853"], ["updated_at", "2017-09-06 20:54:07.484853"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$oxdsCcq8d6wnI6dAwcU6Je/efb8PtWlSCxe603NFTtbBW7bx7FQbG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:07.702558"], ["updated_at", "2017-09-06 20:54:07.702558"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:07.853392"], ["updated_at", "2017-09-06 20:54:07.853392"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:08.054256"], ["updated_at", "2017-09-06 20:54:08.054256"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:08.128361"], ["updated_at", "2017-09-06 20:54:08.128361"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:08.273105"], ["updated_at", "2017-09-06 20:54:08.273105"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:08.429121"], ["updated_at", "2017-09-06 20:54:08.429121"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:08.598558"], ["updated_at", "2017-09-06 20:54:08.598558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:08.825017"], ["updated_at", "2017-09-06 20:54:08.825017"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:08.967459"], ["updated_at", "2017-09-06 20:54:08.967459"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.110742"], ["updated_at", "2017-09-06 20:54:09.110742"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.277405"], ["updated_at", "2017-09-06 20:54:09.277405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.419400"], ["updated_at", "2017-09-06 20:54:09.419400"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$iJVd.yaPftCuX1R4V42p5eb0bw2Q9HPWcQtVOkmmdjNGoXE9w4Qlm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.496267"], ["updated_at", "2017-09-06 20:54:09.496267"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.581422"], ["updated_at", "2017-09-06 20:54:09.581422"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$2b3bRDsaEDvRPy7rknWyC.E7ZiWXGpHZq4ezUhJA9.1ufE45eVCQ."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.653798"], ["updated_at", "2017-09-06 20:54:09.653798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.723637"], ["updated_at", "2017-09-06 20:54:09.723637"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$famkIpseGQbef9IzMTzyTei9vKk3WTwwU0zl6VL9UyOySmrIagnra"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.799974"], ["updated_at", "2017-09-06 20:54:09.799974"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.905558"], ["updated_at", "2017-09-06 20:54:09.905558"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$l.4No9dgWIHQqt47VlsaduyjI4stzncw0gNXPPa/097IrwxgAYHma"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:09.987416"], ["updated_at", "2017-09-06 20:54:09.987416"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:10.125845"], ["updated_at", "2017-09-06 20:54:10.125845"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$fHU/qrCzXY1KHrnislTW1.UqEkuNCuPv9SXenfjDs3bqUOo7N7sTu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:10.201253"], ["updated_at", "2017-09-06 20:54:10.201253"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:10.272507"], ["updated_at", "2017-09-06 20:54:10.272507"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$dKO3hiu1JCANM/Am7aPlZ.ohQi2wAhGmo6vwBxJHQr5OmwMsxkNhu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:10.341543"], ["updated_at", "2017-09-06 20:54:10.341543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:10.349310"], ["updated_at", "2017-09-06 20:54:10.349310"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ujpbl7SjkexqGeIaV.ZzDO0KZ7x.rCT7y4riODKVc4J.1K3cSQV1e"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:10.445642"], ["updated_at", "2017-09-06 20:54:10.445642"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:54:10.453354"], ["updated_at", "2017-09-06 20:54:10.453354"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:10.464671"], ["updated_at", "2017-09-06 20:54:10.464671"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KLB9kAJGPj.nP3PPmAk3.eRxgzshJJ8kXTwYNKzLQZYbNRfU1F7s."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:10.535387"], ["updated_at", "2017-09-06 20:54:10.535387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:54:10.539107"], ["updated_at", "2017-09-06 20:54:10.539107"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:54:10.543938"], ["updated_at", "2017-09-06 20:54:10.543938"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$SCxE/X4YlP/ug/4CEeqsMexvVWotyqiIYaqPZBDgmBZuVHmtQdk8q"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:10.616916"], ["updated_at", "2017-09-06 20:54:10.616916"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:54:10.620525"], ["updated_at", "2017-09-06 20:54:10.620525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
ManagerTest: test_password_should_have_a_minimum_length
-------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$b5zs2ORKuHxGaehhyvAkgOD4OSqNsWMoOMiazdzmVlMJfkk9q1fsy"], ["created_at", "2017-09-06 20:54:10.642080"], ["updated_at", "2017-09-06 20:54:10.642080"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$y5/3a/1t3MTHKxukShYlZ.6DvnqiCbfnrFdjIhPrUcZDgPwo6nweu"], ["created_at", "2017-09-06 20:54:10.656155"], ["updated_at", "2017-09-06 20:54:10.656155"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
ManagerTest: test_email_addresses_should_be_unique
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$KBW.hkPVApq/DZWqzOf0feoVtM5d/jC/P8/r.3puBROKHn3seBxyW"], ["created_at", "2017-09-06 20:54:10.666545"], ["updated_at", "2017-09-06 20:54:10.666545"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "managers" SET "email" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["email", "m.rossi@gmail.com"], ["updated_at", "2017-09-06 20:54:10.671097"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$oprEJlkw/AYKqwYmrnO4Cuj4pK5jODm8VELMF1euOcwwM7asYk9IS"], ["created_at", "2017-09-06 20:54:10.678164"], ["updated_at", "2017-09-06 20:54:10.678164"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$tVBf9PY.h/vU04H5vpkdO.SaUXGhTN649iqMUQFS1y469VBTHQbqm"], ["created_at", "2017-09-06 20:54:10.694285"], ["updated_at", "2017-09-06 20:54:10.694285"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$egYuR1u3EshZbUNsCJXqxOdsuDb/CALRbWCJkPUxbDKsbTSaMk676"], ["created_at", "2017-09-06 20:54:10.704510"], ["updated_at", "2017-09-06 20:54:10.704510"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Nh5GLQ1lru9nfvlaMdh2/uP5afihvr184IpbkYSB8H6TfklWcaIY2"], ["created_at", "2017-09-06 20:54:10.715245"], ["updated_at", "2017-09-06 20:54:10.715245"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Um0pbYP8DrJ4ayzETpQ4vuCtN37Ei8LEREURwslb/DZodqJOdfODy"], ["created_at", "2017-09-06 20:54:10.733704"], ["updated_at", "2017-09-06 20:54:10.733704"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$k07ZAyZ/V6hTx9CROST1jOtoculkbPdFLFtqCdP7hL8OMh3tuLA9S"], ["created_at", "2017-09-06 20:54:10.743360"], ["updated_at", "2017-09-06 20:54:10.743360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
ManagerTest: test_tel_validation_should_reject_invalid_addresses
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/94Zw3GcAj0TcBrK/OuO5uZWfEab9yWu3wWocEAXF/ZIuXDVnmiLS"], ["created_at", "2017-09-06 20:54:10.752862"], ["updated_at", "2017-09-06 20:54:10.752862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Dniux8lKpB8TCvwtG.45l.pMRjtJrSPqJ0YD8s/yAHth5GCJjn42m"], ["created_at", "2017-09-06 20:54:10.769552"], ["updated_at", "2017-09-06 20:54:10.769552"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$QNFy6OhA1m5VmqqcW6aoWOS0dGXK2adS/ra3wfSOb3A2roPqfRrDK"], ["created_at", "2017-09-06 20:54:10.779686"], ["updated_at", "2017-09-06 20:54:10.779686"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$t5DO.IBrhAp4LwpQwxffYuWBV7knvTSRPXGbYqE4tX7hHpAYHeucq"], ["created_at", "2017-09-06 20:54:10.790504"], ["updated_at", "2017-09-06 20:54:10.790504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
ManagerTest: test_tel_validation_should_accept_valid_addresses
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$K8p8L.DEhnK9Dq3xipdPgu.DpE/4B8T2W0vI/6859STUiwztD4e/K"], ["created_at", "2017-09-06 20:54:10.800465"], ["updated_at", "2017-09-06 20:54:10.800465"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$LrzlSp.GrATT3dlyIYspOOdu2nAnqnncN9Vmp15e2J4oRUHNGAH7y"], ["created_at", "2017-09-06 20:54:10.812493"], ["updated_at", "2017-09-06 20:54:10.812493"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$fizJtQWi1AEImpqXANtZSe32tLH5U5JzSWHqX/qUhAU2II.E5lI/y"], ["created_at", "2017-09-06 20:54:10.821743"], ["updated_at", "2017-09-06 20:54:10.821743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$xwQ8S0FrB5O.ghW6btZawOiEnJuDmCJqIfW9Xc3igW3bertbq5qw."], ["created_at", "2017-09-06 20:54:10.832471"], ["updated_at", "2017-09-06 20:54:10.832471"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$d2Hvxbe.RTW70e9F8tDYRerYhFJitFfs61wJjC9iaAiixmG.gbUUe"], ["created_at", "2017-09-06 20:54:10.844708"], ["updated_at", "2017-09-06 20:54:10.844708"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 27ms (Views: 26.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$DRqW0oGi8FZRl6pdQjThmOXe9XSxwufrg136zE7rml0HvRxik5QSG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:10.978230"], ["updated_at", "2017-09-06 20:54:10.978230"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$jXv.ipNp8t4WPcv5Ou9bKu5jOldtr35j5mW9QnYejr5sqiIV/nGQu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:54:11.049987"], ["updated_at", "2017-09-06 20:54:11.049987"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (0.6ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:56:00', '2017-09-06 20:56:00', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:56:00', '2017-09-06 20:56:00', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:56:00', '2017-09-06 20:56:00', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:56:00', '2017-09-06 20:56:00', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 980190962)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:56:00', '2017-09-06 20:56:00', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:56:00', '2017-09-06 20:56:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:56:00', '2017-09-06 20:56:00', 298486374)
  [1m[36m (10.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (32.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 623ms (Views: 621.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4wuGES2WGQT1JqKWOGBT7OT/rbXg/JgOSygctjJoczxRTLr6M9xFG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:01.208824"], ["updated_at", "2017-09-06 20:56:01.208824"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (32.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 54ms (Views: 53.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (1.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$gOU/pA5JhfItGdQyKK2tL.vQU61WrBuUOcq3Do5iY5WjuMuMq/rwu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:01.357803"], ["updated_at", "2017-09-06 20:56:01.357803"]]
  [1m[35m (1.4ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (6.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 29ms (Views: 19.4ms | ActiveRecord: 2.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.4ms)[0m  begin transaction
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:01.535409"], ["updated_at", "2017-09-06 20:56:01.535409"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:01.640910"], ["updated_at", "2017-09-06 20:56:01.640910"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:01.794109"], ["updated_at", "2017-09-06 20:56:01.794109"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:02.039417"], ["updated_at", "2017-09-06 20:56:02.039417"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:02.198787"], ["updated_at", "2017-09-06 20:56:02.198787"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:02.347371"], ["updated_at", "2017-09-06 20:56:02.347371"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:02.493438"], ["updated_at", "2017-09-06 20:56:02.493438"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:02.634558"], ["updated_at", "2017-09-06 20:56:02.634558"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:02.977270"], ["updated_at", "2017-09-06 20:56:02.977270"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:03.230901"], ["updated_at", "2017-09-06 20:56:03.230901"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$xObkJtTpP/rLNtSSDxrhpuWF0J.idgyCkLIyk4HK3epu2wwn49XKW"], ["created_at", "2017-09-06 20:56:03.443693"], ["updated_at", "2017-09-06 20:56:03.443693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$tZJtYQa7pUudjLXLKBHCyuvpWzzgSCqXqNng7xhYXMWRdVpqeernS"], ["created_at", "2017-09-06 20:56:03.461541"], ["updated_at", "2017-09-06 20:56:03.461541"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$dv0F31ZfYFu47w0hxWy3ae9XgCqaPtbuJ3JrJ70pmtZGvwJH.btKm"], ["created_at", "2017-09-06 20:56:03.475510"], ["updated_at", "2017-09-06 20:56:03.475510"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$OU5j3a.z8rTp8VPsXYPD5.mVfBX0L0o1L6SirAaPhvX82ptjsMl2S"], ["created_at", "2017-09-06 20:56:03.489549"], ["updated_at", "2017-09-06 20:56:03.489549"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$MFcWFFMgOPPlChBnzV9IjusyNf.baAF6azemYMwMCI0pgH7Voqt1m"], ["created_at", "2017-09-06 20:56:03.507031"], ["updated_at", "2017-09-06 20:56:03.507031"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$W4KOwji.Wt.JqcNeXvOOr.i2HGidPyJHW6CGlLVySaYQocZVfV6pm"], ["created_at", "2017-09-06 20:56:03.524225"], ["updated_at", "2017-09-06 20:56:03.524225"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$sxJ1bQk8WnqiN4s1YYBDmO5XDqIar9C2LfzqgR/WDEQyEc.tT9MmW"], ["created_at", "2017-09-06 20:56:03.536964"], ["updated_at", "2017-09-06 20:56:03.536964"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$esh/5J0yQY7Y8AHJ8aRRUu86SVSM7HHq2RpZ5DuAxInNpgoiw.HLC"], ["created_at", "2017-09-06 20:56:03.552487"], ["updated_at", "2017-09-06 20:56:03.552487"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$tgCQqgZmp9Wjxra1BFLCROHWbDZ16uXhxKZQjTOyREB81JRR/eUPi"], ["created_at", "2017-09-06 20:56:03.569269"], ["updated_at", "2017-09-06 20:56:03.569269"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/REkVX0uw4bjQ5FyO.Lzj.C6YQPN2qteoOa7Bs.waEV/0TNvz66N."], ["created_at", "2017-09-06 20:56:03.585256"], ["updated_at", "2017-09-06 20:56:03.585256"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$dbVjyYCIEzh8ateFBwiB9e8c6QY2ODdJ2uTG01OLw2rx5TkrV9CjC"], ["created_at", "2017-09-06 20:56:03.602685"], ["updated_at", "2017-09-06 20:56:03.602685"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$MCVfzj6au9tdLQh9/lJQpuhw0itwzWMiSc4tUyoT4tjsq.ZDPuu6."], ["created_at", "2017-09-06 20:56:03.617407"], ["updated_at", "2017-09-06 20:56:03.617407"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$jK/vvPcLnAK2zHH6nnDb8uxK5x0kUONHxRSoUcmaHz8etffQaZRDu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:03.701208"], ["updated_at", "2017-09-06 20:56:03.701208"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$54iMUuK1iMUTYjXNsBNhIupMtodJhGy4rO6eq3u0W2IWXpuF4pvDq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:03.786622"], ["updated_at", "2017-09-06 20:56:03.786622"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:03.942790"], ["updated_at", "2017-09-06 20:56:03.942790"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$FncCT8R8zr5CX89phuockuZ7M01TjCc63xyTsaJ6EUQFPWD87W1EW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.019559"], ["updated_at", "2017-09-06 20:56:04.019559"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.112664"], ["updated_at", "2017-09-06 20:56:04.112664"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7Nca6jFBvgBXNsPxbzqx7uZGo5GFnVYpIhS6/IbguMnBQUEF1H8QW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.190933"], ["updated_at", "2017-09-06 20:56:04.190933"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.273847"], ["updated_at", "2017-09-06 20:56:04.273847"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$1L4Bofd5W8W70eg3Ar7JAeIeco0PgtOSCiAMkagobC0tEnvWy/gQG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.347671"], ["updated_at", "2017-09-06 20:56:04.347671"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.427460"], ["updated_at", "2017-09-06 20:56:04.427460"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4wGN6cofYI2HgpOgtU7vjeLSrcoI/v5g49UG6T1c28P8PTWtbYAgO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.507540"], ["updated_at", "2017-09-06 20:56:04.507540"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.584910"], ["updated_at", "2017-09-06 20:56:04.584910"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$r1FES6ZWH6dWAHTvwItX3.dLmFO0QoZXrqagtiHjbEY9cbuwWe.T2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.664498"], ["updated_at", "2017-09-06 20:56:04.664498"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.740136"], ["updated_at", "2017-09-06 20:56:04.740136"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$z19bD3i/RTGHWoY982XBLesSA.vS03D57fcYWBSacy7GPFrGS/O7q"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:04.816504"], ["updated_at", "2017-09-06 20:56:04.816504"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:04.884803"], ["updated_at", "2017-09-06 20:56:04.884803"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:04.894165"], ["updated_at", "2017-09-06 20:56:04.894165"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:04.903927"], ["updated_at", "2017-09-06 20:56:04.903927"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:04.913118"], ["updated_at", "2017-09-06 20:56:04.913118"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:04.924246"], ["updated_at", "2017-09-06 20:56:04.924246"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:04.934137"], ["updated_at", "2017-09-06 20:56:04.934137"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:04.943910"], ["updated_at", "2017-09-06 20:56:04.943910"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:04.953926"], ["updated_at", "2017-09-06 20:56:04.953926"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$PBbYprQaYwb8PbmjuJNfbuJ9gONNIISqSWy/RtUkwGoS/zLB3gdfu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:05.032137"], ["updated_at", "2017-09-06 20:56:05.032137"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:56:05.037655"], ["updated_at", "2017-09-06 20:56:05.037655"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:05.058271"], ["updated_at", "2017-09-06 20:56:05.058271"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$N.ipX7TzesGm4K6TgCeqTerGkz3xibp7RoRojQqEm.HampWQzPxH2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:05.134407"], ["updated_at", "2017-09-06 20:56:05.134407"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:56:05.140602"], ["updated_at", "2017-09-06 20:56:05.140602"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:56:05.149047"], ["updated_at", "2017-09-06 20:56:05.149047"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RRGecu27LNY.PP/kVfgKkOC/q19kFJyKH2oEkN9WVj98NDHJewRfW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:05.226447"], ["updated_at", "2017-09-06 20:56:05.226447"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:56:05.232093"], ["updated_at", "2017-09-06 20:56:05.232093"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$EOy53MZjObe919g6wmTA6.LLtWr/zr3x2I4Is3R3JxTAQbdz2uolW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:05.318715"], ["updated_at", "2017-09-06 20:56:05.318715"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$JpeI94hCBHWi75V4VRx7sed2f8d5Jbv.bWGr1DnpfBqG3prerAwY2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:05.406156"], ["updated_at", "2017-09-06 20:56:05.406156"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$q9DhrMtjO6goSKT8HAe8J.NGkXYIGfTEuSGcJ.BrAa9TzP47muyKy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:05.780116"], ["updated_at", "2017-09-06 20:56:05.780116"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$9xJYiZdiDFNMLyGtEK9EeuANRtQYGXWLIdInyQYV/OArtzbIOopVC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:05.938893"], ["updated_at", "2017-09-06 20:56:05.938893"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$bTJPGDoE5rsZYcs.4uUIXe43lRUXVyn1Xdg5mfqobDcCGTaX63BE."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:06.126915"], ["updated_at", "2017-09-06 20:56:06.126915"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4Nf2BP4XfTwrv/i6mmGHfuhFpLezmzrCcws/Mpw1MHWwNd.5rwccC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:06.302359"], ["updated_at", "2017-09-06 20:56:06.302359"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$igTWw87NxgKLPUpoq9B9o.KOmMJ0eO43E.zaVJqWNvM9NFY6FB2/K"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:07.294120"], ["updated_at", "2017-09-06 20:56:07.294120"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$0VGW20Z.h3gNrn6vRs3lJ.vinbkPufdoK3MUr.CqTM/v5dx3en85G"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:07.464562"], ["updated_at", "2017-09-06 20:56:07.464562"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$q0MDW44b4xnENo/5NxDAmetp.bvUUHu69dZI.r8gnSLHIxjyCMiNm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:07.629430"], ["updated_at", "2017-09-06 20:56:07.629430"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/yv00amP9Fx3nhoaHJm5T.Ymx84g2A9X5lcuJMNveyZV.IJAnZlXK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:07.861117"], ["updated_at", "2017-09-06 20:56:07.861117"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$WE8YvtwqB4t80xPobWlhQO1.T9G6zT61eJOhnHCm4To3XS4.82.x6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:08.293180"], ["updated_at", "2017-09-06 20:56:08.293180"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$OC7CUCZWNhA7LPi7nGNFjO2rkHnjtTZj0Dt4KJ3xVQzUkSXF1WYNK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:08.748432"], ["updated_at", "2017-09-06 20:56:08.748432"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 20:56:08.829404"], ["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$F3onlOJduV.UUM8DyZu8OeqhV7ZJ3D0GFow53Cg25qhzdAhudVG3C"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:08.992475"], ["updated_at", "2017-09-06 20:56:08.992475"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$pwAxyIDRIQnBXyFIz/TZreJd0Zg..8szXnPIrR8n9AjuCtThXMJr6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:09.141272"], ["updated_at", "2017-09-06 20:56:09.141272"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7VgfeuMA/a9ZWtI.ibe/Q.W.ij2Ijix54T1xrq40nGO1ly9UGnk6y"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:09.299491"], ["updated_at", "2017-09-06 20:56:09.299491"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RKs7MHxacdwFvpEgtAyZ3.V8ETtkLRTwVcc/.bpSCX/TtHsBK0H/K"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:09.464601"], ["updated_at", "2017-09-06 20:56:09.464601"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[36m (1.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ky8Y2lbMcKW0/lZrYr12K.0jCmbfaFt08KcSQKhYBhFnqbZg6zTmK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:56:09.661381"], ["updated_at", "2017-09-06 20:56:09.661381"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:57:07', '2017-09-06 20:57:07', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:57:07', '2017-09-06 20:57:07', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:57:07', '2017-09-06 20:57:07', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:57:07', '2017-09-06 20:57:07', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:57:07', '2017-09-06 20:57:07', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:57:07', '2017-09-06 20:57:07', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:57:07', '2017-09-06 20:57:07', 298486374)
  [1m[36m (11.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$lqfqI7qrLccpcnBtOZv7yemdRRgPt8YopqQP1OwRbGrNJ.rrfu1KW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:07.342122"], ["updated_at", "2017-09-06 20:57:07.342122"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$A7frMd7ljOS/HHQWfaucuO3F9hSD6vqtogpxBeSacnAXvzMdlqNoa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:07.443247"], ["updated_at", "2017-09-06 20:57:07.443247"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (26.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 671ms (Views: 669.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$14d1Tc4JtHyYrRB82Eq9ZuPJBE/h/YFNkGvYI.nBn4Gal99To3dcC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:08.315973"], ["updated_at", "2017-09-06 20:57:08.315973"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$JYlBDAQIHSlgqGE/QtYAouGw7LmOpf8ey0cSYXrKbo/rNejdUhEBG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:08.468487"], ["updated_at", "2017-09-06 20:57:08.468487"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$0C/v88e3V3GhjBBRFUiS8ORILc3PIS/RhZulW.OWVwU.aKL.vtsQy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:08.933011"], ["updated_at", "2017-09-06 20:57:08.933011"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$awWmz4VVF3uXq7xgiLNTSeJAUC3hqAhzdPteocEWU7QBeDwpyQKH2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:09.078044"], ["updated_at", "2017-09-06 20:57:09.078044"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$eontitiLTD8f0Oorbh8F2ecW6N/fFVCj9SJXqhT.eQFCQZJLVYrqK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:09.266840"], ["updated_at", "2017-09-06 20:57:09.266840"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 20:57:09.361750"], ["id", 980190963]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4rl0F0M3jMDSdSVs/frSDeN4IVWxGvSk3tIbNP2A9qXl4cEAZq9MC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:09.587435"], ["updated_at", "2017-09-06 20:57:09.587435"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$qlW/ttC/.RrPHbjbfiU58.MsuJ3dJUpCvY8jkg4/NFfBP8S0TVB3C"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:09.759840"], ["updated_at", "2017-09-06 20:57:09.759840"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$v2vnHHeGPb05.fgF9lifa.Uw0A1lbx1/ITpztiLWRBitoKHvCODCy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:09.956726"], ["updated_at", "2017-09-06 20:57:09.956726"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4nhadbXhX7gygUtWWWvLKuI4FgWQO.AMU6/nIdR3bm7GIQnIGq.9W"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:10.138637"], ["updated_at", "2017-09-06 20:57:10.138637"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RtOfo5s35/1B7BHXp4Y0Z.9ZUpWE9Wu9BHqNGPeG5Hf/kavHNn0oi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:10.376460"], ["updated_at", "2017-09-06 20:57:10.376460"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$CQghomUIaVakCJV4cBco0.mgn8iY937e2H3ChTFoGD9SUDWBBpBYq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:10.671520"], ["updated_at", "2017-09-06 20:57:10.671520"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$FMjH4grI1QrTHvHYRemwRO8hNmGmbmlwAg6xtexNG44st0d1NATeS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:10.851675"], ["updated_at", "2017-09-06 20:57:10.851675"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Cp3IHIdrUDbYEbGO6GjPhOXJ/Ad5EAksqEWTofurM8YcA4mEFP7NG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:11.008047"], ["updated_at", "2017-09-06 20:57:11.008047"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$eRq6csg9U9I75BjiohNSS.S/pq1LXpTxirWyWHjeO3xqIM4IYZWRS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:11.166115"], ["updated_at", "2017-09-06 20:57:11.166115"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$AyLYRFBb.38bpFrVe/Qv.ewPqaVzwNiZt4pUl7u0r1Oy.x/DF91my"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:11.327869"], ["updated_at", "2017-09-06 20:57:11.327869"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$hWFQhK3rOfKn4c7MCVE1cu8PVjS8i.eujyrh7IJZQ5Z2H4fivjvK2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:11.488377"], ["updated_at", "2017-09-06 20:57:11.488377"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$F8xNWjI8K7NyNK0TVYHjK.fcsILrOn2lz560622C0bObNbi3UZEWC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:12.000205"], ["updated_at", "2017-09-06 20:57:12.000205"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.098405"], ["updated_at", "2017-09-06 20:57:12.098405"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.111401"], ["updated_at", "2017-09-06 20:57:12.111401"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.123168"], ["updated_at", "2017-09-06 20:57:12.123168"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.133903"], ["updated_at", "2017-09-06 20:57:12.133903"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.145765"], ["updated_at", "2017-09-06 20:57:12.145765"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.154500"], ["updated_at", "2017-09-06 20:57:12.154500"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.165111"], ["updated_at", "2017-09-06 20:57:12.165111"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.176738"], ["updated_at", "2017-09-06 20:57:12.176738"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$p1Vtk92jurPdPDaK0stCLOPlBEzBH7c3gXtxsEuB2WuKG8gUYJIV6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:12.283967"], ["updated_at", "2017-09-06 20:57:12.283967"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:57:12.290304"], ["updated_at", "2017-09-06 20:57:12.290304"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.314584"], ["updated_at", "2017-09-06 20:57:12.314584"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$xUyzGDUyZuiSOAjnrGz2QObJ2yo5oQHwf9kn/CNutInBaq33g7f3m"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:12.389275"], ["updated_at", "2017-09-06 20:57:12.389275"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:57:12.395790"], ["updated_at", "2017-09-06 20:57:12.395790"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:12.407497"], ["updated_at", "2017-09-06 20:57:12.407497"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Uw8/Aa3QyJw3zwHsJ.zW7ONVKKhRCjoH8hReD8HBjgXLiSpoxkSXm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:12.482529"], ["updated_at", "2017-09-06 20:57:12.482529"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:57:12.490194"], ["updated_at", "2017-09-06 20:57:12.490194"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:12.583676"], ["updated_at", "2017-09-06 20:57:12.583676"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:12.664646"], ["updated_at", "2017-09-06 20:57:12.664646"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:12.811997"], ["updated_at", "2017-09-06 20:57:12.811997"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:12.951590"], ["updated_at", "2017-09-06 20:57:12.951590"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:13.190080"], ["updated_at", "2017-09-06 20:57:13.190080"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:13.339193"], ["updated_at", "2017-09-06 20:57:13.339193"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:13.503893"], ["updated_at", "2017-09-06 20:57:13.503893"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:13.644659"], ["updated_at", "2017-09-06 20:57:13.644659"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:13.799847"], ["updated_at", "2017-09-06 20:57:13.799847"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:15.071675"], ["updated_at", "2017-09-06 20:57:15.071675"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (1.2ms)
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.8ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$FPe/vRxCkeEcZybWtV9GH.zK8H106BZ.R4NJbxnUFavK4ls4SgofG"], ["created_at", "2017-09-06 20:57:15.391384"], ["updated_at", "2017-09-06 20:57:15.391384"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$i/nJqXAqi/1VuEmphKAPku.JMWAssRifLGw/i3JQHWf2GISBfgSBa"], ["created_at", "2017-09-06 20:57:15.410498"], ["updated_at", "2017-09-06 20:57:15.410498"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$saYLZ.gYh0KdlGMyq.P9l.sDGNoiM4W6SLZQ.u17lv.V/FxwZe2ze"], ["created_at", "2017-09-06 20:57:15.428346"], ["updated_at", "2017-09-06 20:57:15.428346"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$paslinoCB.kbcKvIeZWEPeUgbfXlMacTBqIyqBirMZ1TdsQdn1NdK"], ["created_at", "2017-09-06 20:57:15.444866"], ["updated_at", "2017-09-06 20:57:15.444866"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$qu3k/N1Efw8PS5GaPMMNSuyd.PZPyhEERdSndm7Uxk8bfNlPOW./u"], ["created_at", "2017-09-06 20:57:15.462879"], ["updated_at", "2017-09-06 20:57:15.462879"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$U4ygn9nKTQS0D2UY2uueUOI8gtAdh/7/8HZzoBfnOS2FRPxtjP/RC"], ["created_at", "2017-09-06 20:57:15.481467"], ["updated_at", "2017-09-06 20:57:15.481467"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$krxTPI6e2Sek7eFJjeJQx.YSREfPoFin5Qvjj3A0iCWpLSmyCVuWK"], ["created_at", "2017-09-06 20:57:15.501434"], ["updated_at", "2017-09-06 20:57:15.501434"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$lv7cO28jQaoPHjh8Ni0aZucDglL763iWr20GxOx0z85141XYblv4i"], ["created_at", "2017-09-06 20:57:15.519397"], ["updated_at", "2017-09-06 20:57:15.519397"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$b2HDweuYN9dRSrIgIKSE4.s95nOhFzQ2CaZO5DDpVJORRYoqbNy2."], ["created_at", "2017-09-06 20:57:15.535034"], ["updated_at", "2017-09-06 20:57:15.535034"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$OxactA6WOmTNgKVNi4dnJejyJEkq.kEXQAX51SB.LLFv1cY9Y4a/u"], ["created_at", "2017-09-06 20:57:15.555501"], ["updated_at", "2017-09-06 20:57:15.555501"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$opZ431F88DMUjPaOFBWEC.3VWXE3k5Yxm4Z5xpIKIkgHpyJEZVr7q"], ["created_at", "2017-09-06 20:57:15.574105"], ["updated_at", "2017-09-06 20:57:15.574105"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$rSb8P3mglkV9Y.phQ1gHeOmywewtpXI0Otaom93tJG0YIiriItVJu"], ["created_at", "2017-09-06 20:57:15.591381"], ["updated_at", "2017-09-06 20:57:15.591381"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:15.742075"], ["updated_at", "2017-09-06 20:57:15.742075"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$wjydrKwwDgg16t0nHO9JneFOID0bBsUXQRlaC2wJQc6ksJkxe2d4e"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:15.829079"], ["updated_at", "2017-09-06 20:57:15.829079"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:15.921782"], ["updated_at", "2017-09-06 20:57:15.921782"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$L9SwhzVasTbsC4/qRbaABumMpN.zH76cvWzDfRSLqui7ulEYJfZRy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.027819"], ["updated_at", "2017-09-06 20:57:16.027819"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.114287"], ["updated_at", "2017-09-06 20:57:16.114287"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$aEsrt1mwj6xVrhKNNPf6FOPf7TkhKH.bUh.uTkMIQlcisa3gxHNEW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.199415"], ["updated_at", "2017-09-06 20:57:16.199415"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.278949"], ["updated_at", "2017-09-06 20:57:16.278949"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$t7ssMYucK/PTdzoQlBUsFu9FyjHPzWygdHEgHOvSQZbYUlwS/twGu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.359674"], ["updated_at", "2017-09-06 20:57:16.359674"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.442527"], ["updated_at", "2017-09-06 20:57:16.442527"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Q/9ttoNU7YsBpycfcbjzDOGmn3IP5rxA7o.4a9N/mpY9VEKnbdZVy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.520820"], ["updated_at", "2017-09-06 20:57:16.520820"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.622538"], ["updated_at", "2017-09-06 20:57:16.622538"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Y2OtZbtF1.VcdTGz4NsWhumVxHGebyp.jAninDdvw5rn6gd.p1gXC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.707536"], ["updated_at", "2017-09-06 20:57:16.707536"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$p9YNU8.MJnSdUh5xzlbYvO/6nuPTxUxoW65xbF8ujpe.oVwDECZf2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.805684"], ["updated_at", "2017-09-06 20:57:16.805684"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (6.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 31ms (Views: 24.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$m04AxkzKH7UL11v5XGu6qeTJrvnT/GwHx.fgOasaVRj1zkX4XuAi6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:16.934419"], ["updated_at", "2017-09-06 20:57:16.934419"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered users/new.html.erb within layouts/application (22.2ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 35ms (Views: 33.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:57:56', '2017-09-06 20:57:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:57:56', '2017-09-06 20:57:56', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:57:56', '2017-09-06 20:57:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:57:56', '2017-09-06 20:57:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:57:56', '2017-09-06 20:57:56', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:57:56', '2017-09-06 20:57:56', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:57:56', '2017-09-06 20:57:56', 298486374)
  [1m[36m (11.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:56.734022"], ["updated_at", "2017-09-06 20:57:56.734022"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:56.758992"], ["updated_at", "2017-09-06 20:57:56.758992"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:56.767759"], ["updated_at", "2017-09-06 20:57:56.767759"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:56.776825"], ["updated_at", "2017-09-06 20:57:56.776825"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:56.801181"], ["updated_at", "2017-09-06 20:57:56.801181"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:56.809518"], ["updated_at", "2017-09-06 20:57:56.809518"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:57:56.817917"], ["updated_at", "2017-09-06 20:57:56.817917"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$8L4l3OdbT1MmWOCoqPYZWu2kAm5vOkAX4pVzJfkUSHdl0kM3zQCvy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:56.984964"], ["updated_at", "2017-09-06 20:57:56.984964"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$1L2yba0IybDx8gMlhJ3q/eIZP.WwgjBVEBfoTxElyb3f4jqipGT5O"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:57.173439"], ["updated_at", "2017-09-06 20:57:57.173439"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$90Jmvb928Mc35pDxhUS1YudbWgFifBezpAzvgRL1rr5uJNeHEpKqO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:57.329123"], ["updated_at", "2017-09-06 20:57:57.329123"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$odyeWuTKt4592Z3z9IG6xuOZFK4W1mKSSb0WgOVSCNLH0Nb2/0ve2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:57.550758"], ["updated_at", "2017-09-06 20:57:57.550758"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$pJLwtAPHYpzYGq4qfQtuSOTCK0ViZu.hmp.SfTwK2iZb1rYxeI.76"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:57.637367"], ["updated_at", "2017-09-06 20:57:57.637367"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$0RVtdhsUjilVCjDmKq2jJufUMmp2in233z2tYzNBGvUyLpUA42ckG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:57.786284"], ["updated_at", "2017-09-06 20:57:57.786284"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 20:57:57.858024"], ["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7ZMn9PhRwQtneg9/Vs0O3OWBtNsBYtTGcToaPgXLEIAlndl6Z8fj."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:58.039375"], ["updated_at", "2017-09-06 20:57:58.039375"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$49YR8gTi7PKiaUv6/C8JHOOGJvCvmyqTtmyllw5MlfnmWvBz4uU5a"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:58.286398"], ["updated_at", "2017-09-06 20:57:58.286398"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$T.qUUeQMneKmQpI5wp1mlOVwbw9iPjeHXeGRFATKRBnA6lNqt1KOa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:58.464463"], ["updated_at", "2017-09-06 20:57:58.464463"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ZVtb0UWNQBm0.AuQ.i35XeXch1lWLmKfO5KLwKWA34Ot5WsMcMO4a"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:58.915326"], ["updated_at", "2017-09-06 20:57:58.915326"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KSAZxqcbJRqKQgEk/.VX0uouaWbcXJ9ZhMsc3e6BG23fhp2Qk9hfK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:59.066598"], ["updated_at", "2017-09-06 20:57:59.066598"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$takqgyahNKc6.FZhsi/l1eTKvoDrafsrPA2VZi0xqaVHu/fSOfTHy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:59.236383"], ["updated_at", "2017-09-06 20:57:59.236383"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$TevexK1tiE5PvH9ej50KXOwnZ.c0sSaZxRE2v1QVHBOVA3hIcQEoW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:59.407705"], ["updated_at", "2017-09-06 20:57:59.407705"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$cGamjSFagfstizlj0HYUB.kfnbVLtTPeMwR8RUqL.mTRAyiStdVxi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:59.558561"], ["updated_at", "2017-09-06 20:57:59.558561"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ptnBRrCF3JF8OfiKdO0gW./ZBmlsMMBy.9o1K44l6J4m8QUsBgB3m"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:57:59.703929"], ["updated_at", "2017-09-06 20:57:59.703929"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6.istYy/kSx73LHBl1U9iOaOe1OUUfnlCVfi4sDvJzGEcJiEwJY2O"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:00.150812"], ["updated_at", "2017-09-06 20:58:00.150812"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$O29EEx2dhFHtIek9/yqTFeuSYI2wmdk3E6RS7.HoyZCokwUEDQ2sm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:00.307674"], ["updated_at", "2017-09-06 20:58:00.307674"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$dctzN4XfbGcpWLGmXWJxmubXmMLRIYqjN4t/aHqHWHEtxmJvTqpgu"], ["created_at", "2017-09-06 20:58:00.441397"], ["updated_at", "2017-09-06 20:58:00.441397"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Zg/VEPlfkXDiAa/pUJT8UuyMjpXXEEcDUXIjvyTQfvFxqUHr9P4T."], ["created_at", "2017-09-06 20:58:00.461327"], ["updated_at", "2017-09-06 20:58:00.461327"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$mJdpKRoMwd3tX67hUetXg.ylEnyZMeKQPeOI0wRdKkSJbL1ESxo/e"], ["created_at", "2017-09-06 20:58:00.482521"], ["updated_at", "2017-09-06 20:58:00.482521"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$RMv3OC3qOYi2gWwQYuA/s.wxPGwyiQYlQAVT8rjPuRWTw0ieIBg6S"], ["created_at", "2017-09-06 20:58:00.503009"], ["updated_at", "2017-09-06 20:58:00.503009"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$pA64S7hTjxsQy3kGJUhTXOpPWzt0d/xD38PvG12M4h4DKUu/dsxCy"], ["created_at", "2017-09-06 20:58:00.527487"], ["updated_at", "2017-09-06 20:58:00.527487"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$mL0oJN.rFouF5N3xTnYSj.YxpZ9MVmImnvYv6i0x4XKMvCMxnhGB2"], ["created_at", "2017-09-06 20:58:00.547233"], ["updated_at", "2017-09-06 20:58:00.547233"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$zK9q1MaN1guRhegbVF4DSO9jIJ3OzXUE2I4VjgWbdhDK9JHJG4DVO"], ["created_at", "2017-09-06 20:58:00.566874"], ["updated_at", "2017-09-06 20:58:00.566874"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$3HfWw9ve9duOvVE4Zdu5we7m5kPbu9C34XluxlbGByjQIVFT6Ui8i"], ["created_at", "2017-09-06 20:58:00.586517"], ["updated_at", "2017-09-06 20:58:00.586517"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$QSEGAmQJaLTIipbBpUpZ1eT5Fd5yT3TPqj5lLbGi1xPg9GSI2BBlC"], ["created_at", "2017-09-06 20:58:00.605898"], ["updated_at", "2017-09-06 20:58:00.605898"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$43gF6TPXlpibw7kxpxcKHuqv/p7zbuHFVhKc1q5.aZcewDqxgseLa"], ["created_at", "2017-09-06 20:58:00.628510"], ["updated_at", "2017-09-06 20:58:00.628510"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$ByXEGIkr1TzSdW6ZVFrsROHbBcoblSaSxnbngmVfSIhC3yaikQvwu"], ["created_at", "2017-09-06 20:58:00.649431"], ["updated_at", "2017-09-06 20:58:00.649431"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$kxq/XgqdpER6zG.HYnE9/.w9nSmi7GZZzG92IdlvAgaJMvqkalEVO"], ["created_at", "2017-09-06 20:58:00.670651"], ["updated_at", "2017-09-06 20:58:00.670651"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$9.wSs1gv2KttpdA5aVN5Oec2cRmOMpH1B2JLQiQYzYRRhFDsoiJr2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:00.913934"], ["updated_at", "2017-09-06 20:58:00.913934"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (58.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 626ms (Views: 624.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$q4zWm/Gls3XjWfFo4xGbweEAle9ukZzGTBOCekI4Nhn/z6uq6GELe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:01.660542"], ["updated_at", "2017-09-06 20:58:01.660542"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 19ms (Views: 12.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:01.692252"], ["updated_at", "2017-09-06 20:58:01.692252"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$x/YrFSsgpkDKiUC85Boo2.7Mi44ZqzgC1i2R8GU6PTw7gsXkkdjT."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:01.798998"], ["updated_at", "2017-09-06 20:58:01.798998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:58:01.814379"], ["updated_at", "2017-09-06 20:58:01.814379"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:01.836405"], ["updated_at", "2017-09-06 20:58:01.836405"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$JB9jy4KKjj29U/8Sz.Uf1eyrAOmI4Jr6PPbDp5wAJWB7V9OPZiQuq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:01.921033"], ["updated_at", "2017-09-06 20:58:01.921033"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:58:01.928790"], ["updated_at", "2017-09-06 20:58:01.928790"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:01.940930"], ["updated_at", "2017-09-06 20:58:01.940930"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$VEf5DJLHBsnhlgqR2VX7seHjMs6F.93CpQ8APRhtII2NHfpbIQ5/q"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.033127"], ["updated_at", "2017-09-06 20:58:02.033127"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 20:58:02.040629"], ["updated_at", "2017-09-06 20:58:02.040629"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.6ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 26ms (Views: 25.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.221190"], ["updated_at", "2017-09-06 20:58:02.221190"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$rMuipKMVQ0xqDHREDQorgeaWfuaPuJYwfkSWFX9c6ScJg.Nih0MzK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.307638"], ["updated_at", "2017-09-06 20:58:02.307638"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.419978"], ["updated_at", "2017-09-06 20:58:02.419978"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$jxZgUYWRLCJCkT1DPIQpOeG1tujXeMDFbyWaAKStw8DEO..s7Y/0e"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.527581"], ["updated_at", "2017-09-06 20:58:02.527581"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.618510"], ["updated_at", "2017-09-06 20:58:02.618510"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$eGW8HWN7646yJkTZmhVcYO8ExLBhI22HC9WCFf4GcpTD65HLPM8i."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.703344"], ["updated_at", "2017-09-06 20:58:02.703344"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.801670"], ["updated_at", "2017-09-06 20:58:02.801670"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Smct5YaXeCC4ndG5q/Wu1.EsjrLICXNKPfmGUM4HI2fEO.b1nmse."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:02.909306"], ["updated_at", "2017-09-06 20:58:02.909306"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:03.000336"], ["updated_at", "2017-09-06 20:58:03.000336"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$D5rzr52U7IDG5BQb6U9kfOp1MnjZnqXPCUfsvLDbQWKOJAcIqwTHu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:03.100647"], ["updated_at", "2017-09-06 20:58:03.100647"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:03.194570"], ["updated_at", "2017-09-06 20:58:03.194570"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$R2dvJJFafnnu5sn8PMLDPOEfl/UDjJmxcAU1ZmWj.8oe0Obo0i.9C"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:03.285262"], ["updated_at", "2017-09-06 20:58:03.285262"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 29ms (Views: 27.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:03.482826"], ["updated_at", "2017-09-06 20:58:03.482826"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:03.632685"], ["updated_at", "2017-09-06 20:58:03.632685"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:03.777692"], ["updated_at", "2017-09-06 20:58:03.777692"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:04.015246"], ["updated_at", "2017-09-06 20:58:04.015246"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:04.099533"], ["updated_at", "2017-09-06 20:58:04.099533"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:04.256547"], ["updated_at", "2017-09-06 20:58:04.256547"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:04.491192"], ["updated_at", "2017-09-06 20:58:04.491192"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:04.646877"], ["updated_at", "2017-09-06 20:58:04.646877"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:04.816545"], ["updated_at", "2017-09-06 20:58:04.816545"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:04.968347"], ["updated_at", "2017-09-06 20:58:04.968347"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$UOAfxWKj4iMobZdT1erCoOsgFgml4QgN5yTu5sPSecyKoP.hLBQ/u"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:05.163387"], ["updated_at", "2017-09-06 20:58:05.163387"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6ClW3YPTY.WACu2Emo7HIeP/GNkuAyp.X5i9aHUfEjJoCcK.bVXx6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:05.249350"], ["updated_at", "2017-09-06 20:58:05.249350"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:58:26', '2017-09-06 20:58:26', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:58:26', '2017-09-06 20:58:26', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:58:26', '2017-09-06 20:58:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:58:26', '2017-09-06 20:58:26', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:58:26', '2017-09-06 20:58:26', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:58:26', '2017-09-06 20:58:26', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:58:26', '2017-09-06 20:58:26', 298486374)
  [1m[36m (12.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:26.633689"], ["updated_at", "2017-09-06 20:58:26.633689"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:26.857330"], ["updated_at", "2017-09-06 20:58:26.857330"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:27.024501"], ["updated_at", "2017-09-06 20:58:27.024501"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:27.194000"], ["updated_at", "2017-09-06 20:58:27.194000"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:27.433592"], ["updated_at", "2017-09-06 20:58:27.433592"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:27.535040"], ["updated_at", "2017-09-06 20:58:27.535040"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:27.688537"], ["updated_at", "2017-09-06 20:58:27.688537"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:27.844212"], ["updated_at", "2017-09-06 20:58:27.844212"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:28.075692"], ["updated_at", "2017-09-06 20:58:28.075692"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:28.231296"], ["updated_at", "2017-09-06 20:58:28.231296"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$G14IPBXdR1HtGDCilQINgOaCQ/3WN4neR51eZ2f3mgYft/.vadN3q"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:28.536075"], ["updated_at", "2017-09-06 20:58:28.536075"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered users/new.html.erb within layouts/application (40.9ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 728ms (Views: 726.1ms | ActiveRecord: 0.8ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$whbUqWIxteFUzdZdCqV4sudjXeHGIX.NV54LQ4qWZhFWDtv3aQx/G"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:29.407806"], ["updated_at", "2017-09-06 20:58:29.407806"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (9.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 54ms (Views: 41.5ms | ActiveRecord: 1.2ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:29.505333"], ["updated_at", "2017-09-06 20:58:29.505333"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:29.526012"], ["updated_at", "2017-09-06 20:58:29.526012"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:29.540239"], ["updated_at", "2017-09-06 20:58:29.540239"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:29.555310"], ["updated_at", "2017-09-06 20:58:29.555310"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:29.564910"], ["updated_at", "2017-09-06 20:58:29.564910"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:29.576117"], ["updated_at", "2017-09-06 20:58:29.576117"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:29.592070"], ["updated_at", "2017-09-06 20:58:29.592070"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:29.685062"], ["updated_at", "2017-09-06 20:58:29.685062"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$DUw0q1j5gYyzBJ9bkDIi.uL3CGq44S/0rwcer9BQGWVv0SgWqrrAK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:29.780921"], ["updated_at", "2017-09-06 20:58:29.780921"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:29.903544"], ["updated_at", "2017-09-06 20:58:29.903544"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$cmQ0jMIqwfTLeo1zzHNPNekfdQoq8fNGDwvnegQIkpOQ/MUZGeUDa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:29.998360"], ["updated_at", "2017-09-06 20:58:29.998360"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:30.139608"], ["updated_at", "2017-09-06 20:58:30.139608"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$QGnSuQigxWijwboazcaxXeQ7SH4tUho2IVx/B5rpvfG3hFw8rbvhq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:30.242993"], ["updated_at", "2017-09-06 20:58:30.242993"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:30.371651"], ["updated_at", "2017-09-06 20:58:30.371651"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6QxEynI5xx5n9pS8P4H5k.qnGST5IxGofsK8y0HFWIkKuaQaeBpei"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:30.465621"], ["updated_at", "2017-09-06 20:58:30.465621"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:30.545752"], ["updated_at", "2017-09-06 20:58:30.545752"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7e/4QruYv9EMA0iUqxB0puNmA.6phdvPfa/OyLJVs7cKOmG3s2RKu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:30.628116"], ["updated_at", "2017-09-06 20:58:30.628116"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:30.710967"], ["updated_at", "2017-09-06 20:58:30.710967"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Gh0.CaV/WvBQdvoPNkYcXekCCMuf8AWP0gTfyNWGUHPBGTLUizKWe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:30.799655"], ["updated_at", "2017-09-06 20:58:30.799655"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 23ms (Views: 20.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 24ms (Views: 22.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:30.951835"], ["updated_at", "2017-09-06 20:58:30.951835"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$eRU45lfaYS/DeVGUKzy8XOvkLiAIwATZZEUPOP3TvlRzP6I8yeODC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:31.108214"], ["updated_at", "2017-09-06 20:58:31.108214"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:58:31.121727"], ["updated_at", "2017-09-06 20:58:31.121727"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:31.141328"], ["updated_at", "2017-09-06 20:58:31.141328"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ke8dcOA1BYsJQYP7l1QTRu..Vk.n.8CmYwfIrmUJPX2u5kusflU.G"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:31.251747"], ["updated_at", "2017-09-06 20:58:31.251747"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:58:31.257934"], ["updated_at", "2017-09-06 20:58:31.257934"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:58:31.267800"], ["updated_at", "2017-09-06 20:58:31.267800"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6275cqEcHxY1jQdBHpd8Hu9PkLXpSQSWc3xrDe2CRupJoQhad6Mge"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:31.362052"], ["updated_at", "2017-09-06 20:58:31.362052"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 20:58:31.369712"], ["updated_at", "2017-09-06 20:58:31.369712"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$5QUDEj8t2A1isJLnKbLQ3edBvRAe0JGJFlxf7Q291O.MmzyBV67X."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:31.457948"], ["updated_at", "2017-09-06 20:58:31.457948"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$.svreh8xQMjocbB1m1QjBOMg6b2KIXPGqFGFERdNE6ZiEYFwgCXvq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:31.547419"], ["updated_at", "2017-09-06 20:58:31.547419"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$56o0kMGPLmSibK3qBKddVuPMVEGkOXnO3wXK/jGkmROsxBSfcGXE2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:31.635279"], ["updated_at", "2017-09-06 20:58:31.635279"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$3.B0UZq.qrDguDWBrjuiPu./kNdqGe9iPakSiA5o8HGwMYFFCjPXu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:31.732067"], ["updated_at", "2017-09-06 20:58:31.732067"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$056PWaLhXh036Kc5W7DujeRbXQ31JFQk44J5VwcHvafdaFnyJLe9y"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:31.919077"], ["updated_at", "2017-09-06 20:58:31.919077"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KrF7Sq5nvDbxxosTr9OA6.o4ijgsBkQjw7AsFSkc.wY/hwkRp.od."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:32.429584"], ["updated_at", "2017-09-06 20:58:32.429584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RFTr5/q87vIXWpb6WtGnJ.xTlpFM6ZY8eqijLsFQnMzsZ1WQ01AbK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:32.668685"], ["updated_at", "2017-09-06 20:58:32.668685"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$2J.DUvSOnoLDBb6pXxn5OumQJJarr7kbq2bD2u6AUhuihAOdIM8uy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:32.837248"], ["updated_at", "2017-09-06 20:58:32.837248"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KxbtIZPYl9MogenC9kth8u39EJg2hrWkTRCB44lL4MMXWpLAKqUU2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:32.995393"], ["updated_at", "2017-09-06 20:58:32.995393"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$.xsLyJ8hbIg5RqjcpVMbEup2Y9.VTdrrFPhwiv1gCjlset6iaEp9K"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:33.185817"], ["updated_at", "2017-09-06 20:58:33.185817"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$F26S3WvxE2aC8R7isCxH3evAZnOFSLEyCCLpaAr//h.Gg0q4Tc49q"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:33.349385"], ["updated_at", "2017-09-06 20:58:33.349385"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$UHD3PsRM8x.hRbvDQGlmm.ce89tpEHOhqfqQSEq.erP1XahV6BW4m"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:33.903231"], ["updated_at", "2017-09-06 20:58:33.903231"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$lWVNppZGL7PT0ZaYJgBFtu6EHbDjdgr00NOCRgxwlVajjAR7OMVW."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:34.064377"], ["updated_at", "2017-09-06 20:58:34.064377"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$I0I41DvPl26aroiNtCUPr.fsIJ7UhTXzC/B63T1MftMXmY/IoJIIu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:34.222308"], ["updated_at", "2017-09-06 20:58:34.222308"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Hb934SJ8U46FB/B14MjEqOAzAUZFwQc9KVathG/FKLvuCvRYG8fgm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:34.691977"], ["updated_at", "2017-09-06 20:58:34.691977"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$8o90NjAaoN0vm7nZjqQsv.nev..djOvvPHGZ8dDhm6tOHcf0zFJQe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:34.863885"], ["updated_at", "2017-09-06 20:58:34.863885"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4h3gAbjYY8DV6IUTRxZARe7NvdSXZtu8NyaUTogBwIC2000vGd2lK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:35.031652"], ["updated_at", "2017-09-06 20:58:35.031652"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$wP1uuOnDz/YRZcSDKrqKOu6g/9IQLFi27FuuWWr6CUs0NQt9GoVBi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:35.189771"], ["updated_at", "2017-09-06 20:58:35.189771"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 20:58:35.270604"], ["id", 980190963]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$3b4Iwz2VM0J8K5W50N5/quJaorXAPIUOAw3ix4Cz9elSDJxyKvQT2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:58:35.427037"], ["updated_at", "2017-09-06 20:58:35.427037"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$3mVCytnnHEC2fZxfetr22u0OeRKjFNajApGAoCqqSTMANswhkrbKG"], ["created_at", "2017-09-06 20:58:35.542328"], ["updated_at", "2017-09-06 20:58:35.542328"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$8Qeo8l5f6E6Q0Wf.F4cZzOJbO.eJJFXqiLSJy4O.Dm4vTyMw.Hyz."], ["created_at", "2017-09-06 20:58:35.563729"], ["updated_at", "2017-09-06 20:58:35.563729"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$HnnDXF66DpXG/rwB1OcoAempmojkp9IxDxjz/2s53bsXp8IBq29wy"], ["created_at", "2017-09-06 20:58:35.580402"], ["updated_at", "2017-09-06 20:58:35.580402"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Ew/U6s/MmuuMT.Shfc9.neR2yXYpVVurevpaxFgnQ.M.kLBWhTfmy"], ["created_at", "2017-09-06 20:58:35.599870"], ["updated_at", "2017-09-06 20:58:35.599870"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$J.mZg7O6oAUbVylYIi4.6OUb48t9qsG2GLjVwoGRxEaCjWM46v.oW"], ["created_at", "2017-09-06 20:58:35.618852"], ["updated_at", "2017-09-06 20:58:35.618852"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Tzo4O96g18M5//GC1tkZbOYMjMIErw.Zaw606sh18b65F8H1IxwpC"], ["created_at", "2017-09-06 20:58:35.637693"], ["updated_at", "2017-09-06 20:58:35.637693"]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$qCMgV54CZiELBo.EVDQVMOgee1daWZtndVfJf.GnxzOqR1l9roVCi"], ["created_at", "2017-09-06 20:58:35.661603"], ["updated_at", "2017-09-06 20:58:35.661603"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$pglfvj6JuVuAkU/xy.a/SONV7YIrnno.tx/3WJfkpI2gnEF2MYJLe"], ["created_at", "2017-09-06 20:58:35.677586"], ["updated_at", "2017-09-06 20:58:35.677586"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$S7JvEDa.qaEStOCJgRQTpOBfdg53YMTXSrJDCloiGNhw.8CC3x95e"], ["created_at", "2017-09-06 20:58:35.695676"], ["updated_at", "2017-09-06 20:58:35.695676"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$8Bly.Ft3A9fcmbcjh50VO.XIqZy7JdmMdWjZ2ROQuDLzmyvio/obm"], ["created_at", "2017-09-06 20:58:35.714809"], ["updated_at", "2017-09-06 20:58:35.714809"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$.5I/atpHpJUwq8RU9tESG.l/iMEBzHoa1m29sSHAiBGcxVv4SXFR6"], ["created_at", "2017-09-06 20:58:35.732967"], ["updated_at", "2017-09-06 20:58:35.732967"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$o9hl1ITgH7GVzuFk5KlhyeNOq5Z8GH5hLwQ6xK1UZh0bL6lk1eEqO"], ["created_at", "2017-09-06 20:58:35.751950"], ["updated_at", "2017-09-06 20:58:35.751950"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (1.2ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:59:55', '2017-09-06 20:59:55', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 20:59:55', '2017-09-06 20:59:55', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:59:55', '2017-09-06 20:59:55', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 20:59:55', '2017-09-06 20:59:55', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 20:59:55', '2017-09-06 20:59:55', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:59:55', '2017-09-06 20:59:55', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 20:59:55', '2017-09-06 20:59:55', 298486374)
  [1m[36m (12.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 925ms (Views: 922.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:57.138850"], ["updated_at", "2017-09-06 20:59:57.138850"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:57.759804"], ["updated_at", "2017-09-06 20:59:57.759804"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:57.843971"], ["updated_at", "2017-09-06 20:59:57.843971"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (2.2ms)[0m  begin transaction
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:58.014842"], ["updated_at", "2017-09-06 20:59:58.014842"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:58.417428"], ["updated_at", "2017-09-06 20:59:58.417428"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:58.702458"], ["updated_at", "2017-09-06 20:59:58.702458"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:58.862849"], ["updated_at", "2017-09-06 20:59:58.862849"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:59.062639"], ["updated_at", "2017-09-06 20:59:59.062639"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:59.323759"], ["updated_at", "2017-09-06 20:59:59.323759"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:59.515355"], ["updated_at", "2017-09-06 20:59:59.515355"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (37.6ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 70ms (Views: 68.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.3ms)[0m  begin transaction
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:59:59.717867"], ["updated_at", "2017-09-06 20:59:59.717867"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:59:59.730145"], ["updated_at", "2017-09-06 20:59:59.730145"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:59:59.743723"], ["updated_at", "2017-09-06 20:59:59.743723"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:59:59.752272"], ["updated_at", "2017-09-06 20:59:59.752272"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:59:59.762147"], ["updated_at", "2017-09-06 20:59:59.762147"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:59:59.771415"], ["updated_at", "2017-09-06 20:59:59.771415"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 20:59:59.779402"], ["updated_at", "2017-09-06 20:59:59.779402"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ShYnXoAz.wMUF6AH1M41i.9KW/Mn0lG9lGAhq4PcE3gs.7hzx4VHO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 20:59:59.923666"], ["updated_at", "2017-09-06 20:59:59.923666"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/KuF/Zpe27AEMw4CSKqquesJY.GznOxx1FCnNh42dD.uEzXSoPyE."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.015042"], ["updated_at", "2017-09-06 21:00:00.015042"]]
  [1m[36m (1.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.096887"], ["updated_at", "2017-09-06 21:00:00.096887"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$OL5xblQxvNyVZAOEZ4un4.Y4yyd1e6JVoNSQZnGGBHvSBd.XieaeS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.184111"], ["updated_at", "2017-09-06 21:00:00.184111"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.290441"], ["updated_at", "2017-09-06 21:00:00.290441"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/yE5qZEFSoN.Mgyj/CNyW.RdTm3fCIT5GAuKkHfr1NaRaYyzT1zPu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.381058"], ["updated_at", "2017-09-06 21:00:00.381058"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.463433"], ["updated_at", "2017-09-06 21:00:00.463433"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$psjevUXVc6KI8o2vfYmD0.Y7dmZY/xKjnn5KPX5LZaETa9Vi4K44S"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.543099"], ["updated_at", "2017-09-06 21:00:00.543099"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.643234"], ["updated_at", "2017-09-06 21:00:00.643234"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ZvKYFUjWHNvXnWVca2ROauvrXEdi3NGrmAWxAFDLCQgOPRGogHehS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.730460"], ["updated_at", "2017-09-06 21:00:00.730460"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.843306"], ["updated_at", "2017-09-06 21:00:00.843306"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$1txkupVbfJqfuHiqpxNZA.W5YnCpw0ncrAz/dsdsyb3MctU8sMqoW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:00.925355"], ["updated_at", "2017-09-06 21:00:00.925355"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:01.012222"], ["updated_at", "2017-09-06 21:00:01.012222"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$XwriZ.NmxuN85uJS365Yl.csnZRYSd9A6KNZm35VjAwu6Vi8H.8lG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:01.098109"], ["updated_at", "2017-09-06 21:00:01.098109"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$xuix5UZmpbGsya6qO9wAeu6H94EXPDJ38yMpLFN8cm7gUd4MnJo8y"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:01.203651"], ["updated_at", "2017-09-06 21:00:01.203651"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered users/new.html.erb within layouts/application (19.6ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 41ms (Views: 39.3ms | ActiveRecord: 0.5ms)
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$67TH.eXQvZTDLW3052QVCu2GqrLMeG5/mkEvuMV9d2GCGI7bwC4AO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:01.336919"], ["updated_at", "2017-09-06 21:00:01.336919"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (4.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 20ms (Views: 12.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$OzF4DWKMssy0zm8he2dUF.YDNQuSAAwVFeytvTulJ9rVoRDPsouom"], ["created_at", "2017-09-06 21:00:01.394894"], ["updated_at", "2017-09-06 21:00:01.394894"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$DWC0CXRXPdiX7Ws1LE98iu.ClFdnioa5P2gMHzzOkq0Utm8GAHJx6"], ["created_at", "2017-09-06 21:00:01.414754"], ["updated_at", "2017-09-06 21:00:01.414754"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$XKfiPWNrFpeMYu8/qfYsgOmH0ir9fiWDE.vW/IvSoRGV5EvY1tX2y"], ["created_at", "2017-09-06 21:00:01.432990"], ["updated_at", "2017-09-06 21:00:01.432990"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$eMv9njKFlT7tjFYv/3adGelrcmz5wFrVrrDS1ARFKAosjiteNxJYO"], ["created_at", "2017-09-06 21:00:01.460664"], ["updated_at", "2017-09-06 21:00:01.460664"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$OH997QQUIbEpKR1zrAyHRezeC.Im5JBVeWsm1GP5JGIDLT4i8OQJu"], ["created_at", "2017-09-06 21:00:01.480880"], ["updated_at", "2017-09-06 21:00:01.480880"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$9cZ.JDdzg2kqXOs7y5CmB.xFhH1RZ5gi0XIIuEOLV414Rf4INyPcS"], ["created_at", "2017-09-06 21:00:01.499363"], ["updated_at", "2017-09-06 21:00:01.499363"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
ManagerTest: test_password_should_have_a_minimum_length
-------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Y0t3kb/QcrcKOJ6lFNCIs.K4dIjk0kPjRR7UVORAPPnDDx5SpOld."], ["created_at", "2017-09-06 21:00:01.517204"], ["updated_at", "2017-09-06 21:00:01.517204"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$ruD58lc/6iy7SHRgqIoSbev0gSbqMNAL.muslLKHXA42NDNw1mlT6"], ["created_at", "2017-09-06 21:00:01.537632"], ["updated_at", "2017-09-06 21:00:01.537632"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$zVzjX3epXIFrorrepyjawuzEI.ozHCb8juF4/CZ.ZfrHbaE81.nUu"], ["created_at", "2017-09-06 21:00:01.556172"], ["updated_at", "2017-09-06 21:00:01.556172"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/MILhNoeI/pZMsqmIIT8Q.P5ts/8qleBFyfC13MXnvz//SH25dN8i"], ["created_at", "2017-09-06 21:00:01.575694"], ["updated_at", "2017-09-06 21:00:01.575694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$taXv6mSz4edRyafH8NeeMOQMDzA9HGph7ImABFB4.2duyR5.J9PqO"], ["created_at", "2017-09-06 21:00:01.595904"], ["updated_at", "2017-09-06 21:00:01.595904"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_tel_validation_should_reject_invalid_addresses
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$G4cbLrWJ9ICFpyT4qMNqLOW.1zXAfZ9HNjxqVl/y.KIsvqK4B654C"], ["created_at", "2017-09-06 21:00:01.613430"], ["updated_at", "2017-09-06 21:00:01.613430"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$4Jnr.ZYyrLHBnpluXKN0yu3ERQIwV0dTf083gonBzW09mYhHvAEqO"], ["created_at", "2017-09-06 21:00:01.645144"], ["updated_at", "2017-09-06 21:00:01.645144"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.7ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$jdEDMhNj2uSBnXHcldSxDOUMgoG9eZC6KzH82bayxYPkmLoykUhTq"], ["created_at", "2017-09-06 21:00:01.680031"], ["updated_at", "2017-09-06 21:00:01.680031"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
ManagerTest: test_tel_validation_should_accept_valid_addresses
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$GUtTGgbsjLax2nzfBKiDhuBc1xlOiTTPAaJwsdtXIlZQYmzrTQSjy"], ["created_at", "2017-09-06 21:00:01.698644"], ["updated_at", "2017-09-06 21:00:01.698644"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$WPRKyADh/zX.x9vkOuCH6.kheijf9OXOVMvMit8i/8TRWh1p60hKu"], ["created_at", "2017-09-06 21:00:01.718393"], ["updated_at", "2017-09-06 21:00:01.718393"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
ManagerTest: test_email_addresses_should_be_unique
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$nrcdLZLm9Sl2ty7KSFXxMO74FUtRlZnTVOgE.sxItyqmrnPQD9sVy"], ["created_at", "2017-09-06 21:00:01.739789"], ["updated_at", "2017-09-06 21:00:01.739789"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "managers" SET "email" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["email", "m.rossi@gmail.com"], ["updated_at", "2017-09-06 21:00:01.749055"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$6gtI.RE/8IGoIkcdkEzjLe2ycdpSldyclxNJkpl7UrmG3umXJdUlC"], ["created_at", "2017-09-06 21:00:01.764926"], ["updated_at", "2017-09-06 21:00:01.764926"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$u6uOjT.F5uOEYt4bMHRqO.2Eg7u2qzKlyfsRjuhkRIeho0r2DlqT6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:01.941681"], ["updated_at", "2017-09-06 21:00:01.941681"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$5GhnjuRrgRK8.Qjz/Smhre00J35ltNRRVkBOpGWkG7jxpRYfeSqZu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:02.224256"], ["updated_at", "2017-09-06 21:00:02.224256"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 21:00:02.298551"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$zbZ5P7S0v3OfnwOf3zxOfegS0wARUu/jW7ZMuUGxF18fCK43pocce"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:02.471846"], ["updated_at", "2017-09-06 21:00:02.471846"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$m9wBOoUaNAtQD4KEeAUdzu.pdbiy4raTqVsPUothkedilHEMtuV6e"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:02.627333"], ["updated_at", "2017-09-06 21:00:02.627333"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$hDrTGIAXItW0CfwuGBb50OHpk0UcpiuDZCsGq7kQAO.anOP9uihqe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:02.843216"], ["updated_at", "2017-09-06 21:00:02.843216"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$1GMsMHOmKSZktJ6vDAoAGOrpvsjdh9MemiHn8779adAXRNdlwfvcm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:03.073755"], ["updated_at", "2017-09-06 21:00:03.073755"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$8ZXMnmHJCOdVsRxCyTEK0OxyyCcIiyXZCMeLkslnaasShf0MxEAb2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:03.257549"], ["updated_at", "2017-09-06 21:00:03.257549"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$clVmMOkgEpkIley5fffEAOgs1PEriwlKCVK4NMNA52Qd7rknD3Weq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:03.422372"], ["updated_at", "2017-09-06 21:00:03.422372"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$dTMDORp.EmnahQEPqOf8NejBXeQU4Ld6QjsyQmYzOQuU6/htzWL/G"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:03.588336"], ["updated_at", "2017-09-06 21:00:03.588336"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$zFbyGOq/hubAGRa2tk4QZeJNX.8EuNRQI6yq0VXdZfDDk2M9.JgO."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:03.682110"], ["updated_at", "2017-09-06 21:00:03.682110"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$OrAc6BomcJwg7FLpEwBmGew6smlSPgmJvJriSxOGJVVuebyxTUdJK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:03.851814"], ["updated_at", "2017-09-06 21:00:03.851814"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$WPJdmtyXdQLMxg.QNWE1VulxfZyjfeBijNQ7lovPAFWGVTCDNtGbq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:04.044212"], ["updated_at", "2017-09-06 21:00:04.044212"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$M/yov6cG.hxEc6k0lQVsseX9aNQCEmvRrMLGCvMb.XkEUWaGA9Kv."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:04.199315"], ["updated_at", "2017-09-06 21:00:04.199315"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$gdiPnQXm8oTuGVFBC440Eu6b/SPw/0RN9oN6XTLMVcoYFNWD7VPry"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:04.384749"], ["updated_at", "2017-09-06 21:00:04.384749"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KPiJSuLtr8gI5tH2vHiLtOX5Mu12KRYiLQ6JUnzw9bP84BMWrakS6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:04.552283"], ["updated_at", "2017-09-06 21:00:04.552283"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$QYtaMU7Gz27pj07UQpOR/.nKGG5sPZPEUQEKQK6G2uGyoiUi9iAbm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:05.018298"], ["updated_at", "2017-09-06 21:00:05.018298"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$bdpmommcuJrfAWK94rSR5.nprgeu1rqx1miKVwfR16LWOMpCqbflG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:05.187610"], ["updated_at", "2017-09-06 21:00:05.187610"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:05.594076"], ["updated_at", "2017-09-06 21:00:05.594076"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$lBDJXmfsn2qGLLVG/fbwUuNrxeR4rK9r7.iEtB6s6WDBEs5fmjrcm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:05.675628"], ["updated_at", "2017-09-06 21:00:05.675628"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 21:00:05.682913"], ["updated_at", "2017-09-06 21:00:05.682913"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:05.705361"], ["updated_at", "2017-09-06 21:00:05.705361"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$l5X/No7nOyvjUUnvPcmLYOfSLxO5Bk2J2/NJ6lf8FRv66qlOwSoN2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:05.787576"], ["updated_at", "2017-09-06 21:00:05.787576"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 21:00:05.796183"], ["updated_at", "2017-09-06 21:00:05.796183"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:05.809752"], ["updated_at", "2017-09-06 21:00:05.809752"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$c5.u.Ifwuh5ehlQVM3T34OSUgTQzk3iEgReSvSwOzQ/zXtd8yt16e"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:05.896797"], ["updated_at", "2017-09-06 21:00:05.896797"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 21:00:05.902030"], ["updated_at", "2017-09-06 21:00:05.902030"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:00:45', '2017-09-06 21:00:45', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:00:45', '2017-09-06 21:00:45', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:00:45', '2017-09-06 21:00:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:00:45', '2017-09-06 21:00:45', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:00:45', '2017-09-06 21:00:45', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:00:45', '2017-09-06 21:00:45', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:00:45', '2017-09-06 21:00:45', 298486374)
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:45.412347"], ["updated_at", "2017-09-06 21:00:45.412347"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Qvo8Ie4J6NRhuuMLHhTMNuVpV6ZzRW38UWg75RknsBSRKxBWNA7cK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:45.559286"], ["updated_at", "2017-09-06 21:00:45.559286"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:45.688595"], ["updated_at", "2017-09-06 21:00:45.688595"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$D10TR/LjqhllesNkk.D5legImr7qosEJbEmDT8vaj959.AnDBppzW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:45.774653"], ["updated_at", "2017-09-06 21:00:45.774653"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:45.856551"], ["updated_at", "2017-09-06 21:00:45.856551"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$rtx4ppz25Xn4u05bDtayDuR1dZg1NYFJrgvM79.DUfo9XCujoHwTO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:45.946436"], ["updated_at", "2017-09-06 21:00:45.946436"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:46.041849"], ["updated_at", "2017-09-06 21:00:46.041849"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$N4SvovxqYgmaZA1uuZNTBOBmr/StP4nq4wlRlrlyW20alVBqmHIwK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:46.132497"], ["updated_at", "2017-09-06 21:00:46.132497"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:46.214425"], ["updated_at", "2017-09-06 21:00:46.214425"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$42LegNJL8LExw0x5Utmc0eQbpsKN90oF069oE7.XwpKMeNtkNGe1u"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:46.303482"], ["updated_at", "2017-09-06 21:00:46.303482"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:46.386386"], ["updated_at", "2017-09-06 21:00:46.386386"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$XclD09zqWufugUp5JyLySuBzet6OV5QyV5E6Ab6QT.nkPV6DaKzqm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:46.469578"], ["updated_at", "2017-09-06 21:00:46.469578"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$gIz9S5OXZhuW908wsitppOReXOqe.vhAyRRsFFUcBvnhCV4aBmFKa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:46.663644"], ["updated_at", "2017-09-06 21:00:46.663644"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.2ms)
  Rendered users/new.html.erb within layouts/application (40.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 739ms (Views: 737.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$eqeYyN2v2xnugnsb3GY7M.FlHtQOEAtFB/UyET1kpGKa0rV6Szk5."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:47.495292"], ["updated_at", "2017-09-06 21:00:47.495292"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (8.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 39ms (Views: 28.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (5.0ms)
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 51ms (Views: 29.7ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (2.8ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.3ms)[0m  begin transaction
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$VAGgqQ4WRoB.Q2invDfwVeRsW3FhkmoDTGylluxEIs.4k7aWZgzXK"], ["created_at", "2017-09-06 21:00:47.730622"], ["updated_at", "2017-09-06 21:00:47.730622"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$K2EtRAUxp0KiDl2f18rfpuutmtDLDtN/cTw4GLwfG5KwIx7.ytziy"], ["created_at", "2017-09-06 21:00:47.777598"], ["updated_at", "2017-09-06 21:00:47.777598"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$6AevAbCcHZ.FpppF6jBP0.J7njzPYsZ1zpPERixoNycSECh6Sw7j6"], ["created_at", "2017-09-06 21:00:47.803684"], ["updated_at", "2017-09-06 21:00:47.803684"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$lrG5JamqbAjHr3T/hj1VEO5a1szS3by/drI8ZIXPi2NW55QQP.hLe"], ["created_at", "2017-09-06 21:00:47.831568"], ["updated_at", "2017-09-06 21:00:47.831568"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.7ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$9i2TrXZdN6uBU6IlH97IR.Wjx75wr8yS2IDUTEgMHINKtNwHPD3iW"], ["created_at", "2017-09-06 21:00:47.865735"], ["updated_at", "2017-09-06 21:00:47.865735"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$fSbfYYA3Gyv.v6CDuzbBeOiQ7IwnCvtLcQw2zy6zWH6V/HSakmwjS"], ["created_at", "2017-09-06 21:00:47.895435"], ["updated_at", "2017-09-06 21:00:47.895435"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$fpm8tjIvmzF7orQGtbChjevo2swxqwwNaxyV7gLLsF5qUbjeeXReG"], ["created_at", "2017-09-06 21:00:47.922032"], ["updated_at", "2017-09-06 21:00:47.922032"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$UzpTYDI7Gkk7BiCkq9d.iuCValdZbROpV4A5tTqkVIv9dVLw6gin2"], ["created_at", "2017-09-06 21:00:47.947785"], ["updated_at", "2017-09-06 21:00:47.947785"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$ewU4m4ZyAK.d3ydnJcolW.sw7h5WQ9ztaes1m1oO8834BrstIO0Cm"], ["created_at", "2017-09-06 21:00:47.974820"], ["updated_at", "2017-09-06 21:00:47.974820"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$uVrZ7kReZnfW2ZNrOIFqcOHcRLnuZ0YiFsznFNynzUN0gZ03J/6Vy"], ["created_at", "2017-09-06 21:00:47.996341"], ["updated_at", "2017-09-06 21:00:47.996341"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.7ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$y3Ms2h.m8974boguUu6Z2OFDuH/V/DqFWEV3iwJ/Pwn/j4uBKmfo6"], ["created_at", "2017-09-06 21:00:48.028499"], ["updated_at", "2017-09-06 21:00:48.028499"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.8ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$LTJYnf1lyHFXj/K5HN/dy.jXhLWNC9iouiOB1UAVrJlZA6jD7V24m"], ["created_at", "2017-09-06 21:00:48.066182"], ["updated_at", "2017-09-06 21:00:48.066182"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$cRT2bI6wbpPKU93SMp6qNuyGFAaT8QHNzyP2jtOqDArsPJcfwKNa."], ["created_at", "2017-09-06 21:00:48.086320"], ["updated_at", "2017-09-06 21:00:48.086320"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$JC1vUQA8JlBxvhOPglHCnO5xA.0lRFIHhyozPpKUrnd0XoiuIyhGm"], ["created_at", "2017-09-06 21:00:48.102590"], ["updated_at", "2017-09-06 21:00:48.102590"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:48.179843"], ["updated_at", "2017-09-06 21:00:48.179843"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:48.193098"], ["updated_at", "2017-09-06 21:00:48.193098"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:48.203651"], ["updated_at", "2017-09-06 21:00:48.203651"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:48.215064"], ["updated_at", "2017-09-06 21:00:48.215064"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:48.226337"], ["updated_at", "2017-09-06 21:00:48.226337"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:48.235539"], ["updated_at", "2017-09-06 21:00:48.235539"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:48.246848"], ["updated_at", "2017-09-06 21:00:48.246848"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$oxrqsFSk/F3xMXic9NPOfOILzaYWJnZs6ofH9jWievU6.CQt02J0W"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:48.334670"], ["updated_at", "2017-09-06 21:00:48.334670"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$HJDke9NG/a.kkRnPY5re0Of8JwAIYCmYJjVd1JOVWuL862/1O3Zbi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:48.427543"], ["updated_at", "2017-09-06 21:00:48.427543"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$2B1SDXqbojo.4.AkGBcYJ.itdxRhKFxHcNYp/mG1vZ2ofFrAJBxQO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:48.599260"], ["updated_at", "2017-09-06 21:00:48.599260"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$jUzcq/GjagASTYTg/usYBOo6N1SsXaDJhxLnmjUQCatBv5opbvBvm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:48.763779"], ["updated_at", "2017-09-06 21:00:48.763779"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$bZARbQRsPAzL2hxj1wzYleIabYRVREXEQo502lw6x//pUHc3/j66u"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:48.952827"], ["updated_at", "2017-09-06 21:00:48.952827"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$uVTngErF21MlMqPCDp9KeeX.ZJsGDwknR7dG0GQHEegRyeCdXRXgO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:49.120526"], ["updated_at", "2017-09-06 21:00:49.120526"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KYWoWps1ww5t3YlpJFWjZ.9fE6vIH6vm1iSrcQdLr3ChPf9UXnUkq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:49.598157"], ["updated_at", "2017-09-06 21:00:49.598157"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$vteRJ2DxzskvPGxgQcFBsuqPZ39d4YuxVZsNaa3USmxsPmbSWhpeG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:49.767829"], ["updated_at", "2017-09-06 21:00:49.767829"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 21:00:49.846424"], ["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$BtaqQwHU5bg6OXgDW1Bn2OQu6q8o6gIJBUsPqcg/I6UIlpsUasBba"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:50.061602"], ["updated_at", "2017-09-06 21:00:50.061602"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$PSUWMfsKUr7ksmm/IbbMDejo/EBt.vpFnVRm7bjmNSFuFXMcFnKve"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:50.263369"], ["updated_at", "2017-09-06 21:00:50.263369"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$j28rjTlEvfT5pS1eO89fou4kRjtXMoW47c4nIeu/uCD7Cw4tvXk3i"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:50.451121"], ["updated_at", "2017-09-06 21:00:50.451121"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$TGphIDE5JvAgkPIU5qgXeeEqYwGpYY.dE4pjWrHMdtT/fpg/GouiS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:50.707534"], ["updated_at", "2017-09-06 21:00:50.707534"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$FtyZQQcb3QSoY9OuQpJvZezkqtSfy374G67DcpjF/hAkRlysWjKOW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:50.955744"], ["updated_at", "2017-09-06 21:00:50.955744"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$akdE.f2b0eWG55clQlYCBu2TTXBNMIWj9nOQ.etMqqeRASaaHZKbq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:51.137128"], ["updated_at", "2017-09-06 21:00:51.137128"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$wRINuRI47jpMy9Zy/Zcpn.1eShM0AgYqLZd2lZStXmLwHFr.35Pgm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:51.611402"], ["updated_at", "2017-09-06 21:00:51.611402"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$mvRgJIfRQNrCWx2za4ANvugPXflGA8e2/4/KDDxjH0uJNO9Qiz21."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:51.781755"], ["updated_at", "2017-09-06 21:00:51.781755"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Ju4Ihd.osVGkIQprkfIfp.0p6SWXgtAKMBeFVikSYfpAE.7dg1oCO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:51.981378"], ["updated_at", "2017-09-06 21:00:51.981378"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:52.172426"], ["updated_at", "2017-09-06 21:00:52.172426"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:52.418864"], ["updated_at", "2017-09-06 21:00:52.418864"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:52.633065"], ["updated_at", "2017-09-06 21:00:52.633065"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:52.715609"], ["updated_at", "2017-09-06 21:00:52.715609"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:52.938758"], ["updated_at", "2017-09-06 21:00:52.938758"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:53.142056"], ["updated_at", "2017-09-06 21:00:53.142056"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:53.303994"], ["updated_at", "2017-09-06 21:00:53.303994"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:53.473484"], ["updated_at", "2017-09-06 21:00:53.473484"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:53.627558"], ["updated_at", "2017-09-06 21:00:53.627558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:53.791921"], ["updated_at", "2017-09-06 21:00:53.791921"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:53.921871"], ["updated_at", "2017-09-06 21:00:53.921871"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$A/uXlCOEFHcMX46txrT8SexrVGSthOb05/ZGfiwDZ4yqNkvZEkMOq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:54.007582"], ["updated_at", "2017-09-06 21:00:54.007582"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:00:54.041119"], ["updated_at", "2017-09-06 21:00:54.041119"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:54.067570"], ["updated_at", "2017-09-06 21:00:54.067570"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RFKoyU8IpL8Ns6NG3qd6t.eOROiXvYn/eR9pWeBNTHxTgFxBdptLW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:54.171673"], ["updated_at", "2017-09-06 21:00:54.171673"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:00:54.179944"], ["updated_at", "2017-09-06 21:00:54.179944"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:00:54.189653"], ["updated_at", "2017-09-06 21:00:54.189653"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$sPTBV5XYKMzfh0vj.Gema.Xsl/D5J.B4HZnWXVgZ/eeJG1TsEG7km"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:54.271459"], ["updated_at", "2017-09-06 21:00:54.271459"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:00:54.277581"], ["updated_at", "2017-09-06 21:00:54.277581"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$47FOSoC2lQ7I/iN7aOtd7efRehxctrOpz2pQ.3Sif2ihp38aZdVle"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:54.368925"], ["updated_at", "2017-09-06 21:00:54.368925"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$lbHyG3PoHPT.9102PuVlMuEBmfsEVElT3/hjSY2QN0UnCHP15PFpK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:00:54.487167"], ["updated_at", "2017-09-06 21:00:54.487167"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:01:34', '2017-09-06 21:01:34', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:01:34', '2017-09-06 21:01:34', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:01:34', '2017-09-06 21:01:34', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:01:34', '2017-09-06 21:01:34', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:01:34', '2017-09-06 21:01:34', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:01:34', '2017-09-06 21:01:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:01:34', '2017-09-06 21:01:34', 298486374)
  [1m[36m (13.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (6.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 924ms (Views: 921.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (42.9ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 63ms (Views: 61.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$WAov5I2htU5n7cJDSnB0CuHmeStWurZOYOHFItTO9972xyRm4yLzO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:35.896060"], ["updated_at", "2017-09-06 21:01:35.896060"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$UZQmheECRfIMEbHm1TG8EuNJqrhE25Dv6.zeCVFO7eK8xiG2ec5.y"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:36.020864"], ["updated_at", "2017-09-06 21:01:36.020864"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.056955"], ["updated_at", "2017-09-06 21:01:36.056955"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ep.nZs0iqwHOj90LLxAW.egyqA/gj83xLHLRJJy0m/HB/12k3T39i"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:36.152763"], ["updated_at", "2017-09-06 21:01:36.152763"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:01:36.165504"], ["updated_at", "2017-09-06 21:01:36.165504"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.198116"], ["updated_at", "2017-09-06 21:01:36.198116"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$tGYWe2xNC3YayWTdTeymK.P2brKNToK6qzAkrxNy49Up1xpz1sMk2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:36.284914"], ["updated_at", "2017-09-06 21:01:36.284914"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:01:36.294950"], ["updated_at", "2017-09-06 21:01:36.294950"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.308897"], ["updated_at", "2017-09-06 21:01:36.308897"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$5airAraSCQibdRmk0F7jh.n2UGzX.0Ac937HhLkxM7E7qz6pN36hK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:36.402923"], ["updated_at", "2017-09-06 21:01:36.402923"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:01:36.413125"], ["updated_at", "2017-09-06 21:01:36.413125"]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.437666"], ["updated_at", "2017-09-06 21:01:36.437666"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.454367"], ["updated_at", "2017-09-06 21:01:36.454367"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.465274"], ["updated_at", "2017-09-06 21:01:36.465274"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.482300"], ["updated_at", "2017-09-06 21:01:36.482300"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.502107"], ["updated_at", "2017-09-06 21:01:36.502107"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.514117"], ["updated_at", "2017-09-06 21:01:36.514117"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:01:36.525566"], ["updated_at", "2017-09-06 21:01:36.525566"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:36.627151"], ["updated_at", "2017-09-06 21:01:36.627151"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:36.789063"], ["updated_at", "2017-09-06 21:01:36.789063"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:36.985807"], ["updated_at", "2017-09-06 21:01:36.985807"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:37.168752"], ["updated_at", "2017-09-06 21:01:37.168752"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:37.346510"], ["updated_at", "2017-09-06 21:01:37.346510"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:37.584949"], ["updated_at", "2017-09-06 21:01:37.584949"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:37.754308"], ["updated_at", "2017-09-06 21:01:37.754308"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:37.988336"], ["updated_at", "2017-09-06 21:01:37.988336"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:38.143016"], ["updated_at", "2017-09-06 21:01:38.143016"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:38.424465"], ["updated_at", "2017-09-06 21:01:38.424465"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$1sSkv.0XFwPOROD1wASQR.CBNhehbqkA0JtY.d0AVkFRmn5doLN66"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:38.524110"], ["updated_at", "2017-09-06 21:01:38.524110"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$B7U6tm.JDj9KKjihMJYQHeiajaVTOlnCe9HTqu/zzcVfBGGJg.Y6y"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:38.770332"], ["updated_at", "2017-09-06 21:01:38.770332"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$P6nkhHz/vheoHD1dqIDN6.Gpa7Uv91OCuU0/UxY1NTcIb7A0PQI2i"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:38.865359"], ["updated_at", "2017-09-06 21:01:38.865359"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$b7wiTdY334cBBDfXuiSPYudoTroiDuAGJziyow1k00kWFaqTVAngq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:39.107767"], ["updated_at", "2017-09-06 21:01:39.107767"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$L.IC9tCJWSFMMtLAjJV/rePJpH1JXUhlIC1lGXkrD1mpeEFcNiuTe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:39.295588"], ["updated_at", "2017-09-06 21:01:39.295588"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$EqlR8ANFwLXWa7hrV760B.kmGw984EIFW5LU6iAc1Kc6dmbs22u62"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:39.522947"], ["updated_at", "2017-09-06 21:01:39.522947"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ahR5P1qgrpYA/VWwHyhaFO1GCjNJQnkICHQv7qgjysA/srtGOELd2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:39.688540"], ["updated_at", "2017-09-06 21:01:39.688540"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 21:01:39.792482"], ["id", 980190963]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Lx5TZEYnbguFo6z.BsFDiO2MuLJ2LTnLBmU1uak.N3BonpSDO1sti"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:39.979389"], ["updated_at", "2017-09-06 21:01:39.979389"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$cjVbSnTS5Y0WcECKAUrwb.kyWXiIACC3JKTLyhVl1fRnNpJRqbj4K"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:40.517046"], ["updated_at", "2017-09-06 21:01:40.517046"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4yi3cYOryUgSQ4pEOEHR8.6MxhuIcen1/OPUh0.AcJSvNgsWxgSqe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:40.696532"], ["updated_at", "2017-09-06 21:01:40.696532"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$uoLn4IN0R/PT4fy8aVl3buKA5XL3ZCNN.gwjyPs0b8G5Br9lpNMUW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:40.867889"], ["updated_at", "2017-09-06 21:01:40.867889"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$i3wF0saIsxFAxYG8ymBFYuaWMhWM34YzcDPn3gkIn9hva0b341q5i"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:41.047525"], ["updated_at", "2017-09-06 21:01:41.047525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$.ay3Jj73h.OrdEPIwm8awubOZhktAQg0E3taOhTvNp87l64v.zD.e"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:41.551363"], ["updated_at", "2017-09-06 21:01:41.551363"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$TcYna3qgSfJsifgSfjKsWewHFknmBgtdxNNsobx1JBH1Ofvxv/4My"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:41.717242"], ["updated_at", "2017-09-06 21:01:41.717242"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$F3MPYhN/stABZmQKBcIQsuFu3BXLI3yTsx9k1y07h1WDSHmua0cQ."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:41.900932"], ["updated_at", "2017-09-06 21:01:41.900932"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Uy6oIha4inmu6qAIbzWKYuOhitqoEJCl4K9lLSTf0Y12VnQrCY7GS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:42.069328"], ["updated_at", "2017-09-06 21:01:42.069328"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7tuOLlXNx7AdrECL5UNFWOw0rO1lXksOLzQE8fYoj7yqMrEPG9Ohy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:42.241592"], ["updated_at", "2017-09-06 21:01:42.241592"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$3NcvITFFlUBFZfuxWhfR3etl4mRqlvoV7YxeM08Sro12lTYvOHxlu"], ["created_at", "2017-09-06 21:01:42.355564"], ["updated_at", "2017-09-06 21:01:42.355564"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$oseG4sC9V.Z0A494jStwaugwpqNbYtfCaHuWG5olmboZnm9ZtlVJi"], ["created_at", "2017-09-06 21:01:42.377035"], ["updated_at", "2017-09-06 21:01:42.377035"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$c.9Tsnt7ZJqyX5R06dRwGetQ.ni7TyU9EofnEqEujAgsmxOl5NtY."], ["created_at", "2017-09-06 21:01:42.406007"], ["updated_at", "2017-09-06 21:01:42.406007"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$r2PkKEGjkndsQ6jbIHcf7OT4SmjaN/ipDkOQuSaMdCNAU6LdmHUKe"], ["created_at", "2017-09-06 21:01:42.426149"], ["updated_at", "2017-09-06 21:01:42.426149"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$xY.t/nQJWXyZfcTUs7LO2O/P0blXl/RjAhAm0hf7ehu4HHJGVkpIK"], ["created_at", "2017-09-06 21:01:42.465910"], ["updated_at", "2017-09-06 21:01:42.465910"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$89zJkaHChN3w6dW/I.ax6OqSMiQn/2d3JKC.tlAPLdjhjzAjuYKOi"], ["created_at", "2017-09-06 21:01:42.489897"], ["updated_at", "2017-09-06 21:01:42.489897"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$7w.5HeZrW1yK6lDrzbr.pu4KufBMBrpriAolMAuNqW1UwgOlZX91C"], ["created_at", "2017-09-06 21:01:42.515466"], ["updated_at", "2017-09-06 21:01:42.515466"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$p0rayVelBo1F/TLguYbd.enqEZHck8jXeDQsd9CoP1JsVa9c.dPtG"], ["created_at", "2017-09-06 21:01:42.536704"], ["updated_at", "2017-09-06 21:01:42.536704"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$ze3/IvnHIMhjkQN.aCqUXepQQZi125bDkz01B3democ6y61/b3T.m"], ["created_at", "2017-09-06 21:01:42.555641"], ["updated_at", "2017-09-06 21:01:42.555641"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$MdCECGmkW7i/a.lfycsGD.kS6TZsNAIEk5RWnv9tjwy9LaUSLWsHG"], ["created_at", "2017-09-06 21:01:42.572385"], ["updated_at", "2017-09-06 21:01:42.572385"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/t3UBagiIyFbHacZkgP52ubqqyYfwDFKTEfDezjqHRnWJn91oUG4C"], ["created_at", "2017-09-06 21:01:42.595297"], ["updated_at", "2017-09-06 21:01:42.595297"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
ManagerTest: test_tel_validation_should_accept_valid_addresses
--------------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$DQuRiVo1FHDmHdTXx9e2Gest/sGyMiPQx3f.iC1RwN/TujTrLIHZi"], ["created_at", "2017-09-06 21:01:42.616156"], ["updated_at", "2017-09-06 21:01:42.616156"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$0SzKdHIjRHOhg8jI3B517OqogC2JQudCN.N6lDzQBjuqNdwWN3zL2"], ["created_at", "2017-09-06 21:01:42.639638"], ["updated_at", "2017-09-06 21:01:42.639638"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
ManagerTest: test_tel_validation_should_reject_invalid_addresses
----------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Cqagt7MneEgSittr.Pyus.3SR4BAyRbUXx7XynP5Vc5iqmGq6eD.K"], ["created_at", "2017-09-06 21:01:42.661986"], ["updated_at", "2017-09-06 21:01:42.661986"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$LfpdxuXfVQl7C7O3nb2ALONkkaVPNjMvtfiHt5v2dLIM.BsAxue26"], ["created_at", "2017-09-06 21:01:42.694782"], ["updated_at", "2017-09-06 21:01:42.694782"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$m76tC2tNZgKn0D13RKi5pOVjSR3cI2znExsW5ZVCSNtm.jlWob64C"], ["created_at", "2017-09-06 21:01:42.712828"], ["updated_at", "2017-09-06 21:01:42.712828"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$AaIZeBHGKw1u4URz68zuMevuCqCwHqIADzbL.I0O64gyRwXf6bDiu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:42.814791"], ["updated_at", "2017-09-06 21:01:42.814791"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (5.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 29ms (Views: 23.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Xy7uhpxgS1SCTjtX5dT0q.OGsQNo6Yit3kT6fb0H2tocteS99CkfS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:42.948523"], ["updated_at", "2017-09-06 21:01:42.948523"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.9ms)
  Rendered users/new.html.erb within layouts/application (22.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 34ms (Views: 32.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.164637"], ["updated_at", "2017-09-06 21:01:43.164637"]]
  [1m[36m (1.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$OMDpOw2Eh5Dde//7VeNBs.2wQrftv1MekQV7G6R/8YMJCPkwT2PJG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.257407"], ["updated_at", "2017-09-06 21:01:43.257407"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.357509"], ["updated_at", "2017-09-06 21:01:43.357509"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$31E4Gluug9ozhKREyi7Hf.j0vaglkHoHkOYuBqNYrNXIexJABSIiC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.448323"], ["updated_at", "2017-09-06 21:01:43.448323"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.537891"], ["updated_at", "2017-09-06 21:01:43.537891"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$lP0Q0eLr8Uq8FIkjcp9nJOu0q.CaYENxCokhdbW5c9BaiBvJKBLpS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.623613"], ["updated_at", "2017-09-06 21:01:43.623613"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.707570"], ["updated_at", "2017-09-06 21:01:43.707570"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$8U2QAvarAmHNQ.wWm3Ds2e67OlUYsq.L4pwf7EWQ2JNwwQhoy3kQi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.788369"], ["updated_at", "2017-09-06 21:01:43.788369"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.877976"], ["updated_at", "2017-09-06 21:01:43.877976"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$byaBX5tmYMN8tSLrGrYKrejLsGVBfg82NNsB0qyj5U7edm0plG0US"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:43.968252"], ["updated_at", "2017-09-06 21:01:43.968252"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:44.054004"], ["updated_at", "2017-09-06 21:01:44.054004"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$kNWuc2J3W10b7L4L0CP/RekHKoCuK7lzZ8mAjMnQZ7E8uBbH7e.9i"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:01:44.146460"], ["updated_at", "2017-09-06 21:01:44.146460"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:02:15', '2017-09-06 21:02:15', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:02:15', '2017-09-06 21:02:15', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:02:15', '2017-09-06 21:02:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:02:15', '2017-09-06 21:02:15', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:02:15', '2017-09-06 21:02:15', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:02:15', '2017-09-06 21:02:15', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:02:15', '2017-09-06 21:02:15', 298486374)
  [1m[36m (12.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:15.478015"], ["updated_at", "2017-09-06 21:02:15.478015"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:16.008097"], ["updated_at", "2017-09-06 21:02:16.008097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:16.244610"], ["updated_at", "2017-09-06 21:02:16.244610"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:16.397341"], ["updated_at", "2017-09-06 21:02:16.397341"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:16.585756"], ["updated_at", "2017-09-06 21:02:16.585756"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:16.762626"], ["updated_at", "2017-09-06 21:02:16.762626"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:16.850039"], ["updated_at", "2017-09-06 21:02:16.850039"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:17.011806"], ["updated_at", "2017-09-06 21:02:17.011806"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:17.173085"], ["updated_at", "2017-09-06 21:02:17.173085"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:17.319504"], ["updated_at", "2017-09-06 21:02:17.319504"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (23.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 707ms (Views: 705.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Tkk.GuY1z19N6uUgXf4/ReXpVAxtH5uwB7M9kFAupUUKEyxl79yaG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:18.340400"], ["updated_at", "2017-09-06 21:02:18.340400"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$5D5qi//1yyBB5yuG.hBdDe8FNbOyQEYh.KPr6I4PpcbtXRYCQsqj6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:18.456472"], ["updated_at", "2017-09-06 21:02:18.456472"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (3.5ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 35ms (Views: 31.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 27ms (Views: 25.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (2.7ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.6ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$7mhhkYnlvk0SHX6XqTU0S.vvI2haToRM0D/pWk7AzqgJYoAiqCvKW"], ["created_at", "2017-09-06 21:02:18.721776"], ["updated_at", "2017-09-06 21:02:18.721776"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$THBxdAKxIGQcnyXrloCKS.fAvwUhrYRhFUjQBM7pDzOFP60plMZ2e"], ["created_at", "2017-09-06 21:02:18.765151"], ["updated_at", "2017-09-06 21:02:18.765151"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$TvhdfWfAf8b.tcHeLnyz1uW0V.nRpzvscmSYKvpKMGuwMjBsgfD26"], ["created_at", "2017-09-06 21:02:18.793557"], ["updated_at", "2017-09-06 21:02:18.793557"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.9ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$XP.CwsThmMyBGqvAAB7kpe5M1yyZhHMgxrw0M1xkQhcluQQl5DuHi"], ["created_at", "2017-09-06 21:02:18.821539"], ["updated_at", "2017-09-06 21:02:18.821539"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$z2c.55AQ0en4IneWdOcshuyjf2PDS6zsYvncvdwSuDEL64K6YEDjC"], ["created_at", "2017-09-06 21:02:18.850794"], ["updated_at", "2017-09-06 21:02:18.850794"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (1.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------
ManagerTest: test_password_should_have_a_minimum_length
-------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Tlj7yEN405o0T4EFd1DBhemPaetKDFcerfnDT/k/Yj7Wq2jvgsGE6"], ["created_at", "2017-09-06 21:02:18.875642"], ["updated_at", "2017-09-06 21:02:18.875642"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$9xP5ddV6Txp16avstJRM7.a0mgYiBn0SKCVuOs25ySW5AwfFwrZhi"], ["created_at", "2017-09-06 21:02:18.895584"], ["updated_at", "2017-09-06 21:02:18.895584"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (1.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$PxRG3H43DqsPcZEoOXFG6.Yr9o/pBnJ6Qio3VtWavVHx02yfDf.FK"], ["created_at", "2017-09-06 21:02:18.927631"], ["updated_at", "2017-09-06 21:02:18.927631"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
ManagerTest: test_email_addresses_should_be_unique
--------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$LKELi8Vh5GutS/07t9kXUe96dPrQC3bd99v/HrTJrfEyUJV6GrAUe"], ["created_at", "2017-09-06 21:02:18.949420"], ["updated_at", "2017-09-06 21:02:18.949420"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "managers" SET "email" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["email", "m.rossi@gmail.com"], ["updated_at", "2017-09-06 21:02:18.960627"], ["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('M.ROSSI@GMAIL.COM') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
ManagerTest: test_tel_validation_should_accept_valid_addresses
--------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$AvhpqukxLp6OMmq9oEZ61O0.xEgKXFz05h9SwWuIZGUMXRxUbVpl."], ["created_at", "2017-09-06 21:02:18.978669"], ["updated_at", "2017-09-06 21:02:18.978669"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$nirA5KILkjf.SbGhy5Vja.UjrptSIWBLRVTno.OIyG9bW9rgcQ6rm"], ["created_at", "2017-09-06 21:02:18.997250"], ["updated_at", "2017-09-06 21:02:18.997250"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$d2Ju/9cwYPncL3fuDiJRFOdoahVKxRNWD9xrho90DcrsLEPTcV49q"], ["created_at", "2017-09-06 21:02:19.014030"], ["updated_at", "2017-09-06 21:02:19.014030"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$6wqRSVi2hCaOTPEjLcImT.dscgvu9xHjjwv0rQR613SEDHvNxzQmu"], ["created_at", "2017-09-06 21:02:19.033185"], ["updated_at", "2017-09-06 21:02:19.033185"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$6agDjO8QRcyYGyhBpEOJVO63.skQNWpuTJ71Mv.opzXzNkRmoi7IC"], ["created_at", "2017-09-06 21:02:19.051107"], ["updated_at", "2017-09-06 21:02:19.051107"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$i5h45mQ7poU3q0wHrJwPBehLzZgOyu4W1/03HHleBL1CHemDXVuUS"], ["created_at", "2017-09-06 21:02:19.068099"], ["updated_at", "2017-09-06 21:02:19.068099"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$1sXOMjkyeoU3VfQ499zheePVylmwfn6SqXi0odQwPtEJlDUpcLd9q"], ["created_at", "2017-09-06 21:02:19.086782"], ["updated_at", "2017-09-06 21:02:19.086782"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$DU66/4HZWz.qXTEfRgdk6.ElykGL4Bj5eNrmjahN4IwfSfL/WtoT2"], ["created_at", "2017-09-06 21:02:19.120409"], ["updated_at", "2017-09-06 21:02:19.120409"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_tel_validation_should_reject_invalid_addresses
----------------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$S5FUrUHgEp/QYJpFjFlIauHsslLLY/.jtRxr1RCcSwabQ0hhPiG6."], ["created_at", "2017-09-06 21:02:19.138330"], ["updated_at", "2017-09-06 21:02:19.138330"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.236897"], ["updated_at", "2017-09-06 21:02:19.236897"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$B6/YNP.Zpw4TrPycKOd9X.S/e413jX/mfXubuNSWwPilvbR0k1BUK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.323129"], ["updated_at", "2017-09-06 21:02:19.323129"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.424631"], ["updated_at", "2017-09-06 21:02:19.424631"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$BhgLmsXdpsENBmndwA4eR.xbyzDTyy8KAIubKklyC4B2bCt.gwFHS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.511689"], ["updated_at", "2017-09-06 21:02:19.511689"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.598349"], ["updated_at", "2017-09-06 21:02:19.598349"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$y72G7w30Rrl9YiYGYNjGSeTdJQE810BSXp8xk6uHFcdufEuT1Q1jW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.684019"], ["updated_at", "2017-09-06 21:02:19.684019"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.798347"], ["updated_at", "2017-09-06 21:02:19.798347"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$hhdaSlAOvZVaRUyoLxdc2.r2HM4dbwqfNReJFeCbguTU8lpyjJiqe"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.887039"], ["updated_at", "2017-09-06 21:02:19.887039"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:19.968662"], ["updated_at", "2017-09-06 21:02:19.968662"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$v6T4I.DGwaXNbmQnH/wzP.D1JPt4/oIiD2OUDBub5hEbaKp/YEUeO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:20.095826"], ["updated_at", "2017-09-06 21:02:20.095826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:20.179289"], ["updated_at", "2017-09-06 21:02:20.179289"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7wR1/xYuY/R9niEPDvD9cOI7S5fDbKxhc63BKoUVjLao/RN0Wdt8S"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:20.262154"], ["updated_at", "2017-09-06 21:02:20.262154"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:20.280732"], ["updated_at", "2017-09-06 21:02:20.280732"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$fBPr4A4MtLEggmbC1Mlm4.qrdeqPDHH5yf27rZ2Dwl6D72yjhLt7S"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:20.365404"], ["updated_at", "2017-09-06 21:02:20.365404"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 21:02:20.372395"], ["updated_at", "2017-09-06 21:02:20.372395"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:20.400173"], ["updated_at", "2017-09-06 21:02:20.400173"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Ke/E1ng2r20igvXGLXp80OxHruVyjGf4ItNDibJEvipDo.TP.Rlvq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:20.493648"], ["updated_at", "2017-09-06 21:02:20.493648"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 21:02:20.502558"], ["updated_at", "2017-09-06 21:02:20.502558"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:20.517816"], ["updated_at", "2017-09-06 21:02:20.517816"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$nhDnJzNrLM/UYk4HuxPyJOnAyr6knuSVyhaV0Tpcl2pVzzMX79TK2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:20.602908"], ["updated_at", "2017-09-06 21:02:20.602908"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 21:02:20.609071"], ["updated_at", "2017-09-06 21:02:20.609071"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$zmLrXMtMwn9fgmSFR.lnkOLgTTorN7qA0hUgKa/ox/w/wSrAbcO0q"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:20.725584"], ["updated_at", "2017-09-06 21:02:20.725584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (8.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 52ms (Views: 38.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$5D9QHrwE8S.2ModwhVuFDu0TFwpP4K1I22BPE0Zb9EPPrhGYww0QS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:20.882281"], ["updated_at", "2017-09-06 21:02:20.882281"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (26.9ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 39ms (Views: 38.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$uroszmpjujHY2v/por/r.uwDOXfLweaeaoae4qsxPkujUYfe8gk9S"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:21.019290"], ["updated_at", "2017-09-06 21:02:21.019290"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$brJugm.BokpODNqqL4ZRFOGQUkgqDsE7ppw/3sBRHVebtKLeL29sK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:21.310591"], ["updated_at", "2017-09-06 21:02:21.310591"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7j3aiKhPX.fttdvt9UpbMeg5ydtLgMukiDKKXl02wmDF2IWUp2TD6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:21.804888"], ["updated_at", "2017-09-06 21:02:21.804888"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KJU7U8WpSgHbiyoQTSCJt.V4fR3bLQR2AOCms/NpQLWPzHUxGJzc6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:22.018087"], ["updated_at", "2017-09-06 21:02:22.018087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$sz.5YPXJixvw1TU7z0RNYOde4SfK6oNKLB79rz5D6iF.xEO4XPOG6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:22.141013"], ["updated_at", "2017-09-06 21:02:22.141013"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$1IqWrFIhZzSjgu4ZKJj19ec9LLKI7SrJDomciCd2fO8vP/c8yL2Vu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:22.605876"], ["updated_at", "2017-09-06 21:02:22.605876"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$jcGXL9vznmlQB1sBdZRxd.MfiJSdTfpuHy6NGqd9G.lxextOKmha2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:22.781574"], ["updated_at", "2017-09-06 21:02:22.781574"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$dWxekmYuGFjIc7Ztkr651OXw861IDMa.eUQ3.u0ss0r/WPiq/fBF."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:23.063845"], ["updated_at", "2017-09-06 21:02:23.063845"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$5MKO6fqj8cFd.mEiwyn1Xu6RBqIeKu.Y7iuBRHf1U753bPlk0pMTu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:23.239538"], ["updated_at", "2017-09-06 21:02:23.239538"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 21:02:23.319271"], ["id", 980190963]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RqtNRqLjhskVIbGFIKzFwuZln4/Ssc8MiGX1kLbJMbqvj2YZOCTm."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:23.479536"], ["updated_at", "2017-09-06 21:02:23.479536"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$phRJg8ua.xrakV1ay0fkceCbILWKdbN4KljNh3W10yyi7w.dSOemy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:23.651925"], ["updated_at", "2017-09-06 21:02:23.651925"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$LuuNDvcXUamuEB1dxDQamuF1eBZf4LIqjaKhp2d/pxeBG257PjVwm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:23.835163"], ["updated_at", "2017-09-06 21:02:23.835163"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$UUK0PL4oDWY.XUpnwuJJUeKDXFwVA79tk6beOjIb3vVqoBC5KHPim"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:24.015020"], ["updated_at", "2017-09-06 21:02:24.015020"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$8xnfQr1DHi7CLQ/5WxdmTOKLXJDPebuyvDVZ6YV8CcJ0JDCYDlVBK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:24.210313"], ["updated_at", "2017-09-06 21:02:24.210313"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$bGC3rL/KoijW8z9WSCM1guhp7xNnART/b35B0NFkM4NZrLMSth2.G"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:24.374581"], ["updated_at", "2017-09-06 21:02:24.374581"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$mNO0SQwT5sUZGhwFZdbfZ.FfOzKIK103bguxElISb6QLuTJ8wRwTC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:24.565659"], ["updated_at", "2017-09-06 21:02:24.565659"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$0ui0IwAZUxQ7.wf23zXfded6CBlHx8j8PrRXl.86AtyWqXTA2RpC."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:02:24.731793"], ["updated_at", "2017-09-06 21:02:24.731793"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:24.816010"], ["updated_at", "2017-09-06 21:02:24.816010"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:24.829037"], ["updated_at", "2017-09-06 21:02:24.829037"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:24.840218"], ["updated_at", "2017-09-06 21:02:24.840218"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:24.851816"], ["updated_at", "2017-09-06 21:02:24.851816"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:24.861246"], ["updated_at", "2017-09-06 21:02:24.861246"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:24.875271"], ["updated_at", "2017-09-06 21:02:24.875271"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:02:24.885358"], ["updated_at", "2017-09-06 21:02:24.885358"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:04:25', '2017-09-06 21:04:25', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:04:25', '2017-09-06 21:04:25', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:04:25', '2017-09-06 21:04:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:04:25', '2017-09-06 21:04:25', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:04:25', '2017-09-06 21:04:25', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:04:25', '2017-09-06 21:04:25', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:04:25', '2017-09-06 21:04:25', 298486374)
  [1m[36m (16.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$gHiWvCrj6ItmyTweOgMp7.yypv232RvCQNJN3hI2v5sM9kke0fOXS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:26.050857"], ["updated_at", "2017-09-06 21:04:26.050857"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (32.4ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 771ms (Views: 756.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/7i0821h4eNRg/lpvXXZZORk3VGWMdg1iILpBCPebTUz5CWXcgJIm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:26.922344"], ["updated_at", "2017-09-06 21:04:26.922344"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered users/new.html.erb within layouts/application (23.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$yD89wc/qCC3uNjUt5QPkL.Y2BMRJV32zZcVq1klwnVjUDY4hw1cYq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:27.075930"], ["updated_at", "2017-09-06 21:04:27.075930"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4o9Tk1lHhdz4YTXNztrVMuVwqxsrkXu2ap4ijmDIhYsCuWjyQGuCq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:27.186307"], ["updated_at", "2017-09-06 21:04:27.186307"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:27.345347"], ["updated_at", "2017-09-06 21:04:27.345347"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:27.633535"], ["updated_at", "2017-09-06 21:04:27.633535"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:27.824344"], ["updated_at", "2017-09-06 21:04:27.824344"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_manager_id_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:28.110896"], ["updated_at", "2017-09-06 21:04:28.110896"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:28.279664"], ["updated_at", "2017-09-06 21:04:28.279664"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:28.382864"], ["updated_at", "2017-09-06 21:04:28.382864"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:28.586374"], ["updated_at", "2017-09-06 21:04:28.586374"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (2.6ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:28.756920"], ["updated_at", "2017-09-06 21:04:28.756920"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:28.971813"], ["updated_at", "2017-09-06 21:04:28.971813"]]
  [1m[35m (2.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:29.171449"], ["updated_at", "2017-09-06 21:04:29.171449"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:29.367720"], ["updated_at", "2017-09-06 21:04:29.367720"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$DW3JiW5zIcp6Jf.siANFCe0xqvWiAytSFPMlqrzyKEE0VxBX3Ntue"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:29.456783"], ["updated_at", "2017-09-06 21:04:29.456783"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:29.582945"], ["updated_at", "2017-09-06 21:04:29.582945"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7OEoPP1Aal9psBO6c250/eIgpTDQlzixB8LfDoN1O8s9Nn/mN5PWW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:29.672975"], ["updated_at", "2017-09-06 21:04:29.672975"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:29.768238"], ["updated_at", "2017-09-06 21:04:29.768238"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$K/KIMvfnebF0VRxlZgA2n.KVOMXviBfILE0.60tgJvVj0mLrKAATG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:29.896604"], ["updated_at", "2017-09-06 21:04:29.896604"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:29.992706"], ["updated_at", "2017-09-06 21:04:29.992706"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$A0T0QhtP8cIgOxFofZu49e0WMLRexgP.QNF44VrfTefJz4bGQP9NS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:30.103531"], ["updated_at", "2017-09-06 21:04:30.103531"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:30.187464"], ["updated_at", "2017-09-06 21:04:30.187464"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$87/T27UQI5xBonGYb7W.KunyEDs1ypbEgw41wpV87E2H3QfD1kQMS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:30.296875"], ["updated_at", "2017-09-06 21:04:30.296875"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:30.381691"], ["updated_at", "2017-09-06 21:04:30.381691"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$80JPjU0zuFazK2BPZH7P5ukiR/paWZuzuq6LimDlRAmlPlt.zv.KO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:30.469945"], ["updated_at", "2017-09-06 21:04:30.469945"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.7ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 27ms (Views: 25.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
ManagerTest: test_email_addresses_should_be_unique
--------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.7ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$cRj5j3JRYi7XWkDF8VHNHeTdYEe8OK0i.lFSAdpA8p72c86eBRZbu"], ["created_at", "2017-09-06 21:04:30.575618"], ["updated_at", "2017-09-06 21:04:30.575618"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "managers" SET "email" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["email", "m.rossi@gmail.com"], ["updated_at", "2017-09-06 21:04:30.588902"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('M.ROSSI@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$HVgbD29j0fVqcYiZW6hKku7ttToSG49v03mP3L.liokuhzbDp4him"], ["created_at", "2017-09-06 21:04:30.608267"], ["updated_at", "2017-09-06 21:04:30.608267"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.9ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$dTWp3LLtJQl.cGZExnFOU.HwIxNSK1y0KSmmiYbtTmiXJgf/xhFmK"], ["created_at", "2017-09-06 21:04:30.639158"], ["updated_at", "2017-09-06 21:04:30.639158"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.0ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Gdlf0jzgu4bXx3Bc50lhmejW9DQwbEUtFXAC7Z2hdki0WE1vh/h1."], ["created_at", "2017-09-06 21:04:30.679321"], ["updated_at", "2017-09-06 21:04:30.679321"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$RX0sv8Qk3vzoSsjmCSbmzOVwErxpwJikepoEGkOwN2kWli1Myh8Hm"], ["created_at", "2017-09-06 21:04:30.699389"], ["updated_at", "2017-09-06 21:04:30.699389"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$3XWaRJV0jAKgCOtr1MAH5eMT5MEqOFQX9kjaF/Dqj7TTHjHlkHoqW"], ["created_at", "2017-09-06 21:04:30.717243"], ["updated_at", "2017-09-06 21:04:30.717243"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.7ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/F7J9LVOlkrLbWdsdrR1w.Ya.zhYUu44QcmBE44n6NPexKtM19Ox6"], ["created_at", "2017-09-06 21:04:30.739120"], ["updated_at", "2017-09-06 21:04:30.739120"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/P9ABZ0pcVukHIswk.cEXOm0rjAGS.btVF3ytPY1nHAlzXYC9Xkiq"], ["created_at", "2017-09-06 21:04:30.759505"], ["updated_at", "2017-09-06 21:04:30.759505"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$CLEHqUM/sJaPkl0Y.5hO4eX6hiLMNNL7WW8tedbXlhrC2VrOQytsW"], ["created_at", "2017-09-06 21:04:30.785361"], ["updated_at", "2017-09-06 21:04:30.785361"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$GpaNTeAC7BiwIb.FxepSHeHgy.9YIdqxOT5AmfjKx5Z.gXScu4IY."], ["created_at", "2017-09-06 21:04:30.817911"], ["updated_at", "2017-09-06 21:04:30.817911"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.7ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$wlj1Koy/sXttCSHYxn11kuXSDbfP79LurApEx0p0q4NtTjicRVTra"], ["created_at", "2017-09-06 21:04:30.840418"], ["updated_at", "2017-09-06 21:04:30.840418"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_tel_validation_should_reject_invalid_addresses
----------------------------------------------------------------
  [1m[35m (1.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$LYQ6IIprCe2IHpOrhi3dSOA0hveCg6OKSjkw/tR3OhWJcIv5A21kq"], ["created_at", "2017-09-06 21:04:30.860982"], ["updated_at", "2017-09-06 21:04:30.860982"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.9ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.7ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
ManagerTest: test_tel_validation_should_accept_valid_addresses
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/IEKj2JMVZhi5XHaBmH83uzDgjz.upiQ1hHAEpoKWgsyCxU/9ET3a"], ["created_at", "2017-09-06 21:04:30.903539"], ["updated_at", "2017-09-06 21:04:30.903539"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$PN8NlJJRgddQsHpzPOiLWumbNogLQOb.F4vJya49DpLGhF1nocYvi"], ["created_at", "2017-09-06 21:04:30.928876"], ["updated_at", "2017-09-06 21:04:30.928876"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/ydWXMaHxgXJAHYEfqt9o.64rDFdcR/lBz9eEyv2ITvE7zW8QaO7W"], ["created_at", "2017-09-06 21:04:30.949370"], ["updated_at", "2017-09-06 21:04:30.949370"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$LkMVSfWgdVx1xCG5UtpXEuLGlAilwLZ49cP1sF2uBJ9JCTBJ0kIqq"], ["created_at", "2017-09-06 21:04:30.974056"], ["updated_at", "2017-09-06 21:04:30.974056"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$MNGsMAga11EbuqgDgrp4AewYVsU.apHQPKSTkqbylmA1CaD27haUS"], ["created_at", "2017-09-06 21:04:30.995080"], ["updated_at", "2017-09-06 21:04:30.995080"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
ManagerTest: test_password_should_have_a_minimum_length
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$TPryA0xKQZ8/i0mu2sKbMOnCSFiLlSfxMNKCJ5U67RxgAkzHgs9v."], ["created_at", "2017-09-06 21:04:31.015615"], ["updated_at", "2017-09-06 21:04:31.015615"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.1ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:31.041327"], ["updated_at", "2017-09-06 21:04:31.041327"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$b3AYVbUYj211glLZMl.KTup0DFTnnxxaY3QKuW5AkcmK4GhDsczw2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:31.123403"], ["updated_at", "2017-09-06 21:04:31.123403"]]
  [1m[36m (2.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:04:31.134802"], ["updated_at", "2017-09-06 21:04:31.134802"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:31.152428"], ["updated_at", "2017-09-06 21:04:31.152428"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$oAzojWqkotFleSRJ47m07Or5B8N324S1cAROUp0KuiOmoD48loiz."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:31.255832"], ["updated_at", "2017-09-06 21:04:31.255832"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:04:31.262165"], ["updated_at", "2017-09-06 21:04:31.262165"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:31.276596"], ["updated_at", "2017-09-06 21:04:31.276596"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$nIs329zd2CEC.QLmi/grjOdebUTojaM84RpRkPkJ9wb1R7ZXc.MwS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:31.360717"], ["updated_at", "2017-09-06 21:04:31.360717"]]
  [1m[36m (1.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:04:31.366332"], ["updated_at", "2017-09-06 21:04:31.366332"]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.2ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$XTDw5WC9uw0wxQArhLMPOuwCzqZW1NxhwMRPHu3jvlSqAbGcD3Wkq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:31.560823"], ["updated_at", "2017-09-06 21:04:31.560823"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7e6DCjDhnwl0DiHTuu/ESe3jH9tzm.joMNyP.oF0xSQ7b7XTos8ji"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:31.732619"], ["updated_at", "2017-09-06 21:04:31.732619"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$zBE.Ybo568TQJeJ53O4YMe2PSCtQekPrXV.Qdo3UTptiprUAk1Tzi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:31.923017"], ["updated_at", "2017-09-06 21:04:31.923017"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$HVcwi0vZqNSXb1q0ovChSeUjbqnbR2Zx1DmY/bQmG9RA8dSarHL2a"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:32.102341"], ["updated_at", "2017-09-06 21:04:32.102341"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$qB/4dWxAvAblV2wmf1/mteVczMR3pdV0d/.g4rtJ3FnVh8m4n2Jq."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:32.592080"], ["updated_at", "2017-09-06 21:04:32.592080"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Sj.QpKS/c639VfSbIVuWTuCcP2/.kayxlwwl5IowfvA8lruk0V1b6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:32.836521"], ["updated_at", "2017-09-06 21:04:32.836521"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RAhgrlmmfua3sJu55cNsBuithzE5optDziom7X5utP5xNGicnaXiS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:33.009476"], ["updated_at", "2017-09-06 21:04:33.009476"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$F/MpKKlUy4HIW8Y5UBP/kOSl1anDjLKjTi2lMpqSH/EP.I78qKEbW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:33.172240"], ["updated_at", "2017-09-06 21:04:33.172240"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$iQANlHctpNruBeplMmrgEOIxYLLX8wfW5IMrtGrIxAdhjmrdgSvvq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:33.267359"], ["updated_at", "2017-09-06 21:04:33.267359"]]
  [1m[35m (2.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$gTPVbBnGql0BO3RJTNlfpu7hZmDSAswM4/SSmlRE3qdcLrjRJtTIi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:33.430990"], ["updated_at", "2017-09-06 21:04:33.430990"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ULPjPzy.lUBhivdIlzpN0.WYMUM3cUXR2GH8.bPBqCM2MzW6krVIS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:33.622355"], ["updated_at", "2017-09-06 21:04:33.622355"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$8jImAm3fV4Z3ZjtqPOp2reXNKIDocZ5s2XgAfIeXBmj9VgqJSKIF."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:33.807974"], ["updated_at", "2017-09-06 21:04:33.807974"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$LGomy0/kx5XNdv7XdpVhJuglvdRpH8AxOfWEHd4D7uaHjrmTj08sm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:33.992859"], ["updated_at", "2017-09-06 21:04:33.992859"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 21:04:34.071906"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$k38yvDX4u7zMf.Hvvn1wo.pVO3uFFdmBFePGai.QoJ9Gdzy6Fd/.6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:34.239719"], ["updated_at", "2017-09-06 21:04:34.239719"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Wudpyv7RelHdrMLip4tU9OPWEBoQO8G68UavYQNsLLtnDxn81vDr2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:34.801714"], ["updated_at", "2017-09-06 21:04:34.801714"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$UgP31mqNeHFEdYckpgnar.bHs7lxnqsvkg/4lVCN.aPxLpHC9YOxi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:35.111527"], ["updated_at", "2017-09-06 21:04:35.111527"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$lcxvxAh6eWp3KpmSuycpW.2EkXelaeaD3xXUK7HCvmh4aMIv4yGM."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:04:35.329544"], ["updated_at", "2017-09-06 21:04:35.329544"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 25ms (Views: 23.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:35.470010"], ["updated_at", "2017-09-06 21:04:35.470010"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:35.484969"], ["updated_at", "2017-09-06 21:04:35.484969"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:35.499048"], ["updated_at", "2017-09-06 21:04:35.499048"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:35.507953"], ["updated_at", "2017-09-06 21:04:35.507953"]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:35.518651"], ["updated_at", "2017-09-06 21:04:35.518651"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:35.531496"], ["updated_at", "2017-09-06 21:04:35.531496"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:04:35.539989"], ["updated_at", "2017-09-06 21:04:35.539989"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:06:33', '2017-09-06 21:06:33', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 21:06:33', '2017-09-06 21:06:33', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:06:33', '2017-09-06 21:06:33', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 21:06:33', '2017-09-06 21:06:33', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 21:06:33', '2017-09-06 21:06:33', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:06:33', '2017-09-06 21:06:33', 980190962)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 21:06:33', '2017-09-06 21:06:33', 298486374)
  [1m[36m (37.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:33.944774"], ["updated_at", "2017-09-06 21:06:33.944774"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KNDTVkaaLKNYj6cce2m6f.o68uPZ8J3y04PY8xZlhUL7jFuloDwli"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.114261"], ["updated_at", "2017-09-06 21:06:34.114261"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.249210"], ["updated_at", "2017-09-06 21:06:34.249210"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$1uqPRKh.etc6TjeTjI1x.eBR3orwJph0YZ2tCttaXPrU48J/wZ0FS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.339001"], ["updated_at", "2017-09-06 21:06:34.339001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.435273"], ["updated_at", "2017-09-06 21:06:34.435273"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$mwlBa9i7Mff4PEvVjyiCQOLwjVB.Fsahuf08fFHBcx4a/0Z89/E5i"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.537748"], ["updated_at", "2017-09-06 21:06:34.537748"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.667990"], ["updated_at", "2017-09-06 21:06:34.667990"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$B53eqPNVnohTjPfJfnv1cO5iFY1YSMNE1llDwB6s9eizV/TuVbIVC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.774314"], ["updated_at", "2017-09-06 21:06:34.774314"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.863715"], ["updated_at", "2017-09-06 21:06:34.863715"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ECSfIxGW/mkgRqsWRcTuduk05odGvUMVU9wFnBT7Z0SuQo007LBky"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:34.953879"], ["updated_at", "2017-09-06 21:06:34.953879"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:35.048685"], ["updated_at", "2017-09-06 21:06:35.048685"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/dTVgfZDPK8cubFH6Ag9x.9R426Lo.D9UwAfRh.VMNpy8gQ73wPpi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:35.140011"], ["updated_at", "2017-09-06 21:06:35.140011"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.7ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Y42BcPAmyt7K7/CmWoKXxesfx9OXKeYEOzRg3P6/T.hfkFR2oM5Ri"], ["created_at", "2017-09-06 21:06:35.180392"], ["updated_at", "2017-09-06 21:06:35.180392"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$v6scFEFwwE4pxmIUZuqz/.xcUvqAngAqEJG2y3BNYvhLRmfSlpMgK"], ["created_at", "2017-09-06 21:06:35.204521"], ["updated_at", "2017-09-06 21:06:35.204521"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------------
ManagerTest: test_email_addresses_should_be_unique
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$0ph738KzEE3cD5/56NB7GO8H5aYCBuz3YSdshXTCTDNAobtx9ch9S"], ["created_at", "2017-09-06 21:06:35.239733"], ["updated_at", "2017-09-06 21:06:35.239733"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "managers" SET "email" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["email", "m.rossi@gmail.com"], ["updated_at", "2017-09-06 21:06:35.249285"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('M.ROSSI@GMAIL.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Cn/kzCM6L8QLK8ZSipcatuttBCK9B6fN3HaGI1Deh2Z15j9OkTapy"], ["created_at", "2017-09-06 21:06:35.277716"], ["updated_at", "2017-09-06 21:06:35.277716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$wBgAF/smxEV3Qka0taE4OeYh1Bxz9X4D.4js9C3h7EsSbtnF5/lqa"], ["created_at", "2017-09-06 21:06:35.294039"], ["updated_at", "2017-09-06 21:06:35.294039"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$q/l384ZeJfzGhiV95OMVzeLRs3LdTT1ACcwwxQq.4rMTMKykXI.M2"], ["created_at", "2017-09-06 21:06:35.313688"], ["updated_at", "2017-09-06 21:06:35.313688"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$e0Cn4hG181xDu3CeCuaI..AC8EavPE0uyBdFFoftNkpcRNn8BI9Q."], ["created_at", "2017-09-06 21:06:35.330351"], ["updated_at", "2017-09-06 21:06:35.330351"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
ManagerTest: test_password_should_have_a_minimum_length
-------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$TucIpRdxHjqpZf.2xc6Qxu8khAxpXRe3RSOSAb1d7Sh.pWx4xp48i"], ["created_at", "2017-09-06 21:06:35.349431"], ["updated_at", "2017-09-06 21:06:35.349431"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$jFCNRixXvWOvwnQBJ.pngu.WOyGhfZxRV2Qgb2mOKYh3pTEGs6uBm"], ["created_at", "2017-09-06 21:06:35.370024"], ["updated_at", "2017-09-06 21:06:35.370024"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$HR.r17gLbTt8vAUggNFqcuoYR0ZTRINn6Lhz8wsnbEDk7nqFlZMbq"], ["created_at", "2017-09-06 21:06:35.384832"], ["updated_at", "2017-09-06 21:06:35.384832"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$VXtBNZTE0h/lW0RMfBqZxOS1QXHPMbFARV1RdbwB9oCGOeH7TgqyW"], ["created_at", "2017-09-06 21:06:35.400635"], ["updated_at", "2017-09-06 21:06:35.400635"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$.jkEcFWphi3Mri/IYQz/C.MuJeVOVZ3ttHvHaxvXoUL3xUS9VI1Ei"], ["created_at", "2017-09-06 21:06:35.419474"], ["updated_at", "2017-09-06 21:06:35.419474"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$61XnJ2eg8se2AikAAJDnJ.C15lDGHX3a12qytd2NTL4bFJVIktVPO"], ["created_at", "2017-09-06 21:06:35.437842"], ["updated_at", "2017-09-06 21:06:35.437842"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
ManagerTest: test_tel_validation_should_accept_valid_addresses
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/fLWF49EXcN3gf2usQdzRuGqKajCbgIlPuQoqiPqmhflytY1c3sIK"], ["created_at", "2017-09-06 21:06:35.455556"], ["updated_at", "2017-09-06 21:06:35.455556"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$DuGtcsILEJEtH5rmgog9xOKiguMT4VCCUoZ/8cOBMxYENF1q8Qfai"], ["created_at", "2017-09-06 21:06:35.478053"], ["updated_at", "2017-09-06 21:06:35.478053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (1.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$muk0Tu8y7kmaxoZKyr3HVeqSjxn6FWgtOACzZkf.C7xTdftYhJ8uq"], ["created_at", "2017-09-06 21:06:35.496338"], ["updated_at", "2017-09-06 21:06:35.496338"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_tel_validation_should_reject_invalid_addresses
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$5h13A0x/ha.wdgF4rFz5Ge.qyw.K4W8PR4sOocZhS5SZCGNmRiP9e"], ["created_at", "2017-09-06 21:06:35.517494"], ["updated_at", "2017-09-06 21:06:35.517494"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$/3.JChYnky2A.4Yd0aIAheTQrL67u10PxSxx1ZYUUpimUS.s6xEbu"], ["created_at", "2017-09-06 21:06:35.547708"], ["updated_at", "2017-09-06 21:06:35.547708"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (2.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 592ms (Views: 590.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (2.3ms)[0m  [1mbegin transaction[0m
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$B.apV5o5Wrh1Ca7S5ur0quiqHJHNT.jwYm4/keVMTatgvT4TQXbJG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:36.454383"], ["updated_at", "2017-09-06 21:06:36.454383"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$.WQxNvhdFQGDzGmQ4Oc3/eBij1YcxsmiMvmfynVl9b70vgkXaIoOy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:36.662041"], ["updated_at", "2017-09-06 21:06:36.662041"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$nHP3E5I3OLY7s1bnl1BwXuItwphffVxnN8Dsepng0D/i6DZipA9tK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:36.862107"], ["updated_at", "2017-09-06 21:06:36.862107"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$U3rZ0yDXeYFQKiFPa1fRXu3deXxXgMgO158cnbwihuIlqXb9CQAAy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:36.987471"], ["updated_at", "2017-09-06 21:06:36.987471"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$P0zVSlUM5ptW4pkVlP3IIuGY/xr4SJtPMZfNQCbPcOTO8BMDvKs36"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:37.169908"], ["updated_at", "2017-09-06 21:06:37.169908"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$LEIf3KPZzsEydgUt/VSHFuI.yv5HSaQ9vbMb0q/woG8mc6yUovbT6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:37.423302"], ["updated_at", "2017-09-06 21:06:37.423302"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$2XYLDb3GdKtsk/8HoJgf0OHXI8ZSfogsGj2HDjneuiFEwj3U6YcMO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:37.625772"], ["updated_at", "2017-09-06 21:06:37.625772"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$8yNm.ltl5pEIsFyWuzNC5etxwlmKtM7pSc3NBPi4sC0ThkdtZl9Yy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:37.879921"], ["updated_at", "2017-09-06 21:06:37.879921"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$70GaseAIt138p3ZaMcKV1OjdhKUhpQqP6CPbe9OAadIugK8WRLYaS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:38.071579"], ["updated_at", "2017-09-06 21:06:38.071579"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$lPYh5Ll/ztJDZrOkk0QIdezOC5Gp4RYpEJFCl3K5eihIwqa26P7PW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:38.303708"], ["updated_at", "2017-09-06 21:06:38.303708"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$fTXSCQOfZFIcpbgDG5NJ7u2QmTaiCznWIa53t0.9f065EVPNMWIiq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:38.926963"], ["updated_at", "2017-09-06 21:06:38.926963"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ZOeZEzlU2yBFGF1GHbDcQebmA6lBxVml3ZeMGrvzYe5kVyPSPwWRm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:39.545054"], ["updated_at", "2017-09-06 21:06:39.545054"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Eb7RC4fAyeh6GuxGAVZSee2unkKxNjBE3O.hJgqW59fx0bqDcE2lm"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:39.745294"], ["updated_at", "2017-09-06 21:06:39.745294"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/rUhJwIcxK052ZJ.dQequun5ZaNpoaytcv6bVBolkCmCHnx1peCEW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:39.939591"], ["updated_at", "2017-09-06 21:06:39.939591"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$PQSRIwbJYrTFakOK6UsovOMisZFZJosiaiSuIss5emep9p6Gw95nO"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:40.199173"], ["updated_at", "2017-09-06 21:06:40.199173"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$QjOJsuwRExVjrFKArS7ctuI8f3ni95L4gI1I25fxt/MUTzCOAePLK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:40.360364"], ["updated_at", "2017-09-06 21:06:40.360364"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$HuyuIMrVeVtCh/Waojkw1OpO6inX86Xk8CPemPy2Vabf/GdaOR4ZS"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:40.654309"], ["updated_at", "2017-09-06 21:06:40.654309"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 21:06:40.769432"], ["id", 980190963]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:40.933626"], ["updated_at", "2017-09-06 21:06:40.933626"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:41.099748"], ["updated_at", "2017-09-06 21:06:41.099748"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:41.271799"], ["updated_at", "2017-09-06 21:06:41.271799"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:41.455358"], ["updated_at", "2017-09-06 21:06:41.455358"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[36m (1.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:41.693461"], ["updated_at", "2017-09-06 21:06:41.693461"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:41.777619"], ["updated_at", "2017-09-06 21:06:41.777619"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:41.939800"], ["updated_at", "2017-09-06 21:06:41.939800"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:42.100887"], ["updated_at", "2017-09-06 21:06:42.100887"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:42.278189"], ["updated_at", "2017-09-06 21:06:42.278189"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$6yr0RYQl7lyzuhHxtLjxRu5jJIzaCyjraFGISfAzAEjOPWZSaHuPK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:42.603561"], ["updated_at", "2017-09-06 21:06:42.603561"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (33.7ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 67ms (Views: 55.5ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$sLYSHH38wY9SExct05n2/us5zgM4so5pghBQcIpW7MbgJ7pQZGZaG"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:42.778459"], ["updated_at", "2017-09-06 21:06:42.778459"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.5ms)
  Rendered users/new.html.erb within layouts/application (28.1ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 42ms (Views: 41.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ALyyp24kLidbdu6K6CaUP.viAsruhpM9Z7yMqgX12TMpDzfpGcHsC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:42.920416"], ["updated_at", "2017-09-06 21:06:42.920416"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$DJInwO5YCKmIDAjgFw5FUOaywodTZN8Em5Yf2TI4SrOnX7rR7Mm2O"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:43.020087"], ["updated_at", "2017-09-06 21:06:43.020087"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (2.5ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.135790"], ["updated_at", "2017-09-06 21:06:43.135790"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Hygf6ILwK17l.4IXZSYUIu2EZdItgTuia.bbuW6m8wNrGFU20Y8bu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:43.227158"], ["updated_at", "2017-09-06 21:06:43.227158"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:06:43.236709"], ["updated_at", "2017-09-06 21:06:43.236709"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.261028"], ["updated_at", "2017-09-06 21:06:43.261028"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$mM0dO905chlqfI6BAUamve2LN74au216/cv0qdHewLvpSqoUaEKOu"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:43.353804"], ["updated_at", "2017-09-06 21:06:43.353804"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:06:43.360274"], ["updated_at", "2017-09-06 21:06:43.360274"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.368837"], ["updated_at", "2017-09-06 21:06:43.368837"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$k3MbO.Hme8aEjXkz.fV24OmPLvR//TfZ9n40c6BATIp.GMWUIpddK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 21:06:43.455628"], ["updated_at", "2017-09-06 21:06:43.455628"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 980190963], ["created_at", "2017-09-06 21:06:43.462480"], ["updated_at", "2017-09-06 21:06:43.462480"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.474798"], ["updated_at", "2017-09-06 21:06:43.474798"]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.489662"], ["updated_at", "2017-09-06 21:06:43.489662"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.501807"], ["updated_at", "2017-09-06 21:06:43.501807"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.516321"], ["updated_at", "2017-09-06 21:06:43.516321"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.524721"], ["updated_at", "2017-09-06 21:06:43.524721"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.536397"], ["updated_at", "2017-09-06 21:06:43.536397"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 21:06:43.551479"], ["updated_at", "2017-09-06 21:06:43.551479"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "managers"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 23:07:29', '2017-09-06 23:07:29', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 1, 'MyString', 'MyString', 'MyText', 'MyString', '2017-09-06 23:07:29', '2017-09-06 23:07:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "latitude", "longitude", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, 1.5, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "owners"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "microposts"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at", "id") VALUES ('MyText', 1, NULL, NULL, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 298486374)
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "products"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 23:07:29', '2017-09-06 23:07:29', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-09-06 23:07:29', '2017-09-06 23:07:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "shoppers"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at", "id") VALUES (NULL, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "requests"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at", "id") VALUES (NULL, NULL, '2017-09-06 23:07:29', '2017-09-06 23:07:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "markets"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 23:07:29', '2017-09-06 23:07:29', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyText', '2017-09-06 23:07:29', '2017-09-06 23:07:29', 298486374)
  [1m[36m (52.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
ProductTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:29.339715"], ["updated_at", "2017-09-06 23:07:29.339715"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ProductTest: test_label_should_be_present
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:29.375021"], ["updated_at", "2017-09-06 23:07:29.375021"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
ProductTest: test_name_should_be_present
----------------------------------------
  [1m[36m (16.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:29.400886"], ["updated_at", "2017-09-06 23:07:29.400886"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
ProductTest: test_label_should_not_be_too_long
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:29.410838"], ["updated_at", "2017-09-06 23:07:29.410838"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
ProductTest: test_package_should_be_present
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:29.420899"], ["updated_at", "2017-09-06 23:07:29.420899"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ProductTest: test_package_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:29.436506"], ["updated_at", "2017-09-06 23:07:29.436506"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
---------------------------------
ProductTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:29.450574"], ["updated_at", "2017-09-06 23:07:29.450574"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
MicropostTest: test_content_should_not_be_too_long
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:29.559753"], ["updated_at", "2017-09-06 23:07:29.559753"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$k2KdDVvWlBTLraF3ha4TGujC28xfVodlgKgGj/cHSST.9rRnm6oD2"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:29.686011"], ["updated_at", "2017-09-06 23:07:29.686011"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
MicropostTest: test_vote_should_be_present
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:29.807974"], ["updated_at", "2017-09-06 23:07:29.807974"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Nc4VuYSSJbawsgIkeux/8uzASG4yqBOVafdwBKNpkxGYuR7uWf7ga"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:29.899074"], ["updated_at", "2017-09-06 23:07:29.899074"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MicropostTest: test_market_id_should_be_present
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:29.992938"], ["updated_at", "2017-09-06 23:07:29.992938"]]
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$wqZFWyPF/IrNrWM0VjKV7eZVwgcMze2lK6ry1JsLaVHSGQlsFxsEK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.075580"], ["updated_at", "2017-09-06 23:07:30.075580"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------
MicropostTest: test_should_be_valid
-----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.185701"], ["updated_at", "2017-09-06 23:07:30.185701"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Gu.xmCuUivPzwsBMA0PkWOaZ/d36yhqnpkRmWDoCxSQLLZwGeVoJa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.274926"], ["updated_at", "2017-09-06 23:07:30.274926"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------
MicropostTest: test_user_id_should_be_present
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.356132"], ["updated_at", "2017-09-06 23:07:30.356132"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$4Hj0ikHn8DjoOM/JPESxhuatC2x.GKskfnWNWkHkZ1HTHtNxbUK6O"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.435821"], ["updated_at", "2017-09-06 23:07:30.435821"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
MicropostTest: test_content_should_be_present
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.520288"], ["updated_at", "2017-09-06 23:07:30.520288"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$/hgs.CijnpKorUNx/xylwOaf7tB5I0w9bge.NUXIsme6iAR8raUaK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.610651"], ["updated_at", "2017-09-06 23:07:30.610651"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UserTest: test_address_validation_should_reject_invalid_addresses
-----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$MAxONY14uyTxwR5W8ryeCuz25WDnM2ieF.E/9iyBNwkcDRbLJxlB6"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.709800"], ["updated_at", "2017-09-06 23:07:30.709800"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$O4/AcnNpzrDslpZ3MY8k9elPL6fOg14xSHjIi/h/lTOPYZRsI2GCy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:30.971605"], ["updated_at", "2017-09-06 23:07:30.971605"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$RVQyqFt5bu4x1/wXVQyW/eY1Yjgd8Twetf9bmOMTepnIo.5fa4ocy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:31.131612"], ["updated_at", "2017-09-06 23:07:31.131612"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$3xDPFyxf0eVa/yH5NGCrAuSoWhmHP7WqBwKyqDLPn8GDEgXf6houi"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:31.299374"], ["updated_at", "2017-09-06 23:07:31.299374"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$OIOyvn2MnorqXaYF8UNWJ.1N8qTAoAxGOC.EvpyBDQS0sqIWx50US"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:31.487747"], ["updated_at", "2017-09-06 23:07:31.487747"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_yearofbirth_should_be_present
--------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$K2iPNcJCe38IrVd9X/iZ4Og38xqcI3lAfDBF5AYVdV1kevUf1Jrsq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:31.648154"], ["updated_at", "2017-09-06 23:07:31.648154"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_address_validation_should_accept_valid_addresses
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$P1T6SRkwZop0yMXBnFaIXu8i5No3XVmYpRKMPhzwBzFpoATDQcqO."], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:31.830105"], ["updated_at", "2017-09-06 23:07:31.830105"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$zT/pK.WGs.vGbZbQFA9xVewKoeK6RGW09TKSRybTWFIpgEUjSNBuC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:32.072536"], ["updated_at", "2017-09-06 23:07:32.072536"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('     ') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$g.uUOtgZCvpYe1OnBNni7u/f6DXoyZuCDGlAC8Kw64AQrB1YNQ.vy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:32.279523"], ["updated_at", "2017-09-06 23:07:32.279523"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
UserTest: test_surname_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$fpDzHT1Zq6hdBd2D48KZvOZI/ZstzN8z8p6qzG/iyxtG2pUI/mHti"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:32.743385"], ["updated_at", "2017-09-06 23:07:32.743385"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$EZa5cUFswx6Lkga5/d/EleyqDkNIWJAjZuZYYcU5A8YhDCEo/O5yy"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:32.923645"], ["updated_at", "2017-09-06 23:07:32.923645"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UserTest: test_address_should_be_present
----------------------------------------
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$H5rwvDEIbmDTTuwI128b4eha8entAte0CUrbUg1ZAoLLTURrP8nIq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:33.076051"], ["updated_at", "2017-09-06 23:07:33.076051"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$D4epWgXwKrgm/RDcklq8quwnzZCJaRdKEsunC990LGAY1Jf.5QFgW"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:33.168301"], ["updated_at", "2017-09-06 23:07:33.168301"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["email", "cla@gmail.com"], ["updated_at", "2017-09-06 23:07:33.256511"], ["id", 980190963]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('CLA@GMAIL.COM') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
----------------------------------------
UserTest: test_surname_should_be_present
----------------------------------------
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$.eLtTbtRgiJbrzA90DjFM.1k62p1WZaiS2rjHwNzlTg66ptlxstaC"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:33.439241"], ["updated_at", "2017-09-06 23:07:33.439241"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_adress_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$Xzwjc0NXGL9/Tmm0P0t3HuVKBd3gig1zT6v0szBH7/lVvkeUXHnIa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:33.594233"], ["updated_at", "2017-09-06 23:07:33.594233"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$bIZlrHhD6rU/8NAU5F8VEeCgB9d6ssYoFqYgyxiz08Zwdu8MLhVJK"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:34.219177"], ["updated_at", "2017-09-06 23:07:34.219177"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('USER@foo.COM') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('first.last@foo.jp') AND "users"."id" != 980190963) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('alice+bob@baz.cn') AND "users"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$cAbiCwVEo.DgVKTWI.QuPOK.8Tiyfbp1IFaSTjYMcJxQC6P7FGMni"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:35.020925"], ["updated_at", "2017-09-06 23:07:35.020925"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('cla@gmail.com') AND "users"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------------
ManagerTest: test_email_validation_should_reject_invalid_addresses
------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$pPJdllVjds2DvhzSNYR.fux9hcvkl0M.uiFJmlD/SwrwxL.lvWYfi"], ["created_at", "2017-09-06 23:07:35.149575"], ["updated_at", "2017-09-06 23:07:35.149575"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
ManagerTest: test_surname_should_not_be_too_long
------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$EyuqL5zhPE.u/Av0ElVDheh5pvRzyxbdflR7pvsD9T/Y8X8T6FJIK"], ["created_at", "2017-09-06 23:07:35.199274"], ["updated_at", "2017-09-06 23:07:35.199274"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------
ManagerTest: test_tel_should_be_present
---------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$Y0ZuLlvnlszzv5S3eL.qoeUNQrK7YU75Rcl4jFs5TL2VHwAOmHIEO"], ["created_at", "2017-09-06 23:07:35.223995"], ["updated_at", "2017-09-06 23:07:35.223995"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
ManagerTest: test_tel_validation_should_accept_valid_addresses
--------------------------------------------------------------
  [1m[35m (1.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$sh4nSJ7/cFEpJVkV6/GYTuAr4.mTpMWO.2feRwCkA7LErTQdZzW2u"], ["created_at", "2017-09-06 23:07:35.253562"], ["updated_at", "2017-09-06 23:07:35.253562"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (1.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_tel_validation_should_reject_invalid_addresses
----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$tnf9LO5v5upkfmEpK7o.iOwAmJ.SY4xNL3yuY8x6SrIlNxkrHK74i"], ["created_at", "2017-09-06 23:07:35.281618"], ["updated_at", "2017-09-06 23:07:35.281618"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
ManagerTest: test_curriculum_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$TZea237mrfzag214PNfa2uBiwgRACXH3MycWPlvQLc5fBZvg9PwQO"], ["created_at", "2017-09-06 23:07:35.329080"], ["updated_at", "2017-09-06 23:07:35.329080"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_email_should_not_be_too_long
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$lqoIbCxaOzmowUjCCkwtA.49geNar4Z7HQrVsysye/W44NoW/4Hz6"], ["created_at", "2017-09-06 23:07:35.354977"], ["updated_at", "2017-09-06 23:07:35.354977"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaa@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
ManagerTest: test_email_addresses_should_be_unique
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$It5M4dR/gC2YuvBj.pogVOZC5NlAIEmtO4LTS4J/h.3LW.gN5NV8y"], ["created_at", "2017-09-06 23:07:35.383454"], ["updated_at", "2017-09-06 23:07:35.383454"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "managers" SET "email" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["email", "m.rossi@gmail.com"], ["updated_at", "2017-09-06 23:07:35.396603"], ["id", 980190963]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.6ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('M.ROSSI@GMAIL.COM') LIMIT 1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------
ManagerTest: test_name_should_not_be_too_long
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$wYb3SVLxGDev06Tupaq6w.R.2sG19oGxgi70Ck3X7EDBD8f7hyCyO"], ["created_at", "2017-09-06 23:07:35.422960"], ["updated_at", "2017-09-06 23:07:35.422960"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
ManagerTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$884B.5hD8C4M2v57XmFspuD5QwhFCKiHmuW3kJiy64g4KcXE59pF2"], ["created_at", "2017-09-06 23:07:35.446688"], ["updated_at", "2017-09-06 23:07:35.446688"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------
ManagerTest: test_password_should_have_a_minimum_length
-------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.8ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$l/8UWzXvAeV4/Hc4rVJjN.lQXgAL8qjorWDOk3tXgRY2T.CDUjWBW"], ["created_at", "2017-09-06 23:07:35.469595"], ["updated_at", "2017-09-06 23:07:35.469595"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
ManagerTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$LptQHmMOkAdgGc.sJSvQ/OltlCIgt.DhJ7gyLX98KmJUAaXFfruHe"], ["created_at", "2017-09-06 23:07:35.499510"], ["updated_at", "2017-09-06 23:07:35.499510"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------------
ManagerTest: test_yearofbirth_should_be_present
-----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$e.3KUnPIxLT98vVNFfZsN.kVyc.Inl0SE.Ooc4nGhCk3HkQgZXAHi"], ["created_at", "2017-09-06 23:07:35.523082"], ["updated_at", "2017-09-06 23:07:35.523082"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ManagerTest: test_surname_should_be_present
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$2DEWCkPSsJaWqIopfFXWRub2QeuCx6Vpru0niFydeCfNtEh.nTT4q"], ["created_at", "2017-09-06 23:07:35.572772"], ["updated_at", "2017-09-06 23:07:35.572772"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
ManagerTest: test_curriculum_should_be_present
----------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$27wiko79rQg/W6Ea3jTaRu.QgYv5kIq5vxr/OcFe91kfevmIfKmP6"], ["created_at", "2017-09-06 23:07:35.594571"], ["updated_at", "2017-09-06 23:07:35.594571"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
ManagerTest: test_email_should_be_present
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$DMwEIzL02jl5m1O9PEDIQOc7jS4RpwqDp9pkN3VklekAm5bkbYfkS"], ["created_at", "2017-09-06 23:07:35.622573"], ["updated_at", "2017-09-06 23:07:35.622573"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('     ') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
ManagerTest: test_password_should_be_present
--------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$6zJOtMw9oeyfnvjLGR6qE.gkEX4ItFKAo1IF/Wj3CGCgGXoFMumu."], ["created_at", "2017-09-06 23:07:35.648952"], ["updated_at", "2017-09-06 23:07:35.648952"]]
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('m.rossi@gmail.com') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
ManagerTest: test_email_validation_should_accept_valid_addresses
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('m.rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "curriculum", "yearofbirth", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "m.rossi@gmail.com"], ["tel", "3345678952"], ["curriculum", "bla bla bla"], ["yearofbirth", 1960], ["password_digest", "$2a$04$NAUR66mwTFmgP/A6hxlBXO/FvrYiqAFWgRorjm297j5mBeHHr9Rli"], ["created_at", "2017-09-06 23:07:35.678107"], ["updated_at", "2017-09-06 23:07:35.678107"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.5ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example.com') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('USER@foo.COM') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('A_US-ER@foo.bar.org') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('first.last@foo.jp') AND "managers"."id" != 980190963) LIMIT 1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('alice+bob@baz.cn') AND "managers"."id" != 980190963) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
-------------------------------------------
ShopperTest: test_user_id_should_be_present
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$ykA0uC6xku/p0FbLGsCOQ.ZJl0lkRobjiQaW03Cva8nHWOn2Gyz7y"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:35.785102"], ["updated_at", "2017-09-06 23:07:35.785102"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
---------------------------------
ShopperTest: test_should_be_valid
---------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$7neCOmns9CCdnzmNuY4/p.btmjwsTVfoBbX2oFjPTx.HzIM.dklxq"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:35.887643"], ["updated_at", "2017-09-06 23:07:35.887643"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
PagesControllerTest: test_should_get_howto
------------------------------------------
Processing by PagesController#howto as HTML
  Rendered pages/howto.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 574ms (Views: 572.2ms | ActiveRecord: 0.9ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_help
-----------------------------------------
Processing by PagesController#help as HTML
  Rendered pages/help.html.erb within layouts/application (3.2ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
---------------------------------------------
PagesControllerTest: test_should_get_homepage
---------------------------------------------
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------
MarketTest: test_should_be_valid
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:36.749987"], ["updated_at", "2017-09-06 23:07:36.749987"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------------------------------
MarketTest: test_address_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:36.914664"], ["updated_at", "2017-09-06 23:07:36.914664"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
MarketTest: test_group_should_be_present
----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:37.147674"], ["updated_at", "2017-09-06 23:07:37.147674"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------
MarketTest: test_group_should_not_be_too_long
---------------------------------------------
  [1m[36m (2.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:37.321266"], ["updated_at", "2017-09-06 23:07:37.321266"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
MarketTest: test_info_should_be_present
---------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:37.525630"], ["updated_at", "2017-09-06 23:07:37.525630"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
MarketTest: test_info_should_not_be_too_long
--------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:37.685956"], ["updated_at", "2017-09-06 23:07:37.685956"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MarketTest: test_address_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:37.943306"], ["updated_at", "2017-09-06 23:07:37.943306"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
------------------------------------------
MarketTest: test_address_should_be_present
------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:38.198388"], ["updated_at", "2017-09-06 23:07:38.198388"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
MarketTest: test_address_should_not_be_too_long
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "Via Alessandro Severo ,Roma ,Italia"], ["group", "Conad"], ["info", "Orari di apertura"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:38.291350"], ["updated_at", "2017-09-06 23:07:38.291350"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (46.5ms)
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 86ms (Views: 82.8ms | ActiveRecord: 2.5ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_shopper_id_should_be_present
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:38.499454"], ["updated_at", "2017-09-06 23:07:38.499454"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$kQqgV/dOy10yFBDVpB2/UebFXXUtPD9w2fTFZTkGoncHruAiDgD6C"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:38.594907"], ["updated_at", "2017-09-06 23:07:38.594907"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 23:07:38.603236"], ["updated_at", "2017-09-06 23:07:38.603236"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
RequestTest: test_product_id_should_be_present
----------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:38.638366"], ["updated_at", "2017-09-06 23:07:38.638366"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$MqoZzJY4BQbeviG5oNVF4eKCO1LMU775XMO55dIYgUkKKq22nRCga"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:38.723591"], ["updated_at", "2017-09-06 23:07:38.723591"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 23:07:38.732945"], ["updated_at", "2017-09-06 23:07:38.732945"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------
RequestTest: test_should_be_valid
---------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Pasta"], ["label", "Barilla"], ["package", "500 g"], ["created_at", "2017-09-06 23:07:38.746066"], ["updated_at", "2017-09-06 23:07:38.746066"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "Via Alessandro Severo ,Roma ,Italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$r7He.FAhSyz2xe8qyMPdduqwxPpRbkP3U22x/2qZ5K01dztAEls16"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:38.835765"], ["updated_at", "2017-09-06 23:07:38.835765"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 980190963], ["created_at", "2017-09-06 23:07:38.842963"], ["updated_at", "2017-09-06 23:07:38.842963"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$KLX22Lxvlm7kjtMc/9MClul8hAdCH2XkQsBlQvbE6YyJ1JGpKKSCa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:38.958411"], ["updated_at", "2017-09-06 23:07:38.958411"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.8ms)
  Rendered users/new.html.erb within layouts/application (31.8ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 54ms (Views: 52.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cla@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "address", "yearofbirth", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Claudio"], ["surname", "Alicino"], ["email", "cla@gmail.com"], ["address", "via alessandro severo ,roma ,italia"], ["yearofbirth", 1992], ["password_digest", "$2a$04$FLbDSvYVmfH2/4RZtPtTV.GSEd69kOwFXA5SLnu0uEG1WPxmLEbYa"], ["latitude", 41.854385], ["longitude", 12.4848919], ["created_at", "2017-09-06 23:07:39.107335"], ["updated_at", "2017-09-06 23:07:39.107335"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190963]]
  Rendered users/show.html.erb within layouts/application (5.7ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 24ms (Views: 16.2ms | ActiveRecord: 1.9ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------------------
SmartShoppingControllerTest: test_should_get_corefunction
---------------------------------------------------------
Processing by SmartShoppingController#corefunction as HTML
  Rendered smart_shopping/corefunction.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  rollback transaction
